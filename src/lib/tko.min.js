(function(e,n){'object'==typeof exports&&'undefined'!=typeof module?module.exports=n():'function'==typeof define&&define.amd?define(n):e.ko=n()})(this,function(){'use strict';function e(e,n){for(var t=0,o=e.length;t<o;t++)n(e[t],t)}function n(e,n){if('function'==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,n);for(var t=0,o=e.length;t<o;t++)if(e[t]===n)return t;return-1}function t(e,n,t){for(var o=0,i=e.length;o<i;o++)if(n.call(t,e[o],o))return e[o];return null}function o(e,t){var o=n(e,t);0<o?e.splice(o,1):0===o&&e.shift()}function i(e){e=e||[];for(var t=[],o=0,i=e.length;o<i;o++)0>n(t,e[o])&&t.push(e[o]);return t}function a(e,n){e=e||[];for(var t=[],o=0,i=e.length;o<i;o++)t.push(n(e[o],o));return t}function s(e,n){e=e||[];for(var t=[],o=0,i=e.length;o<i;o++)n(e[o],o)&&t.push(e[o]);return t}function d(e,n){if(n instanceof Array)e.push.apply(e,n);else for(var t=0,o=n.length;t<o;t++)e.push(n[t]);return e}function r(e,t,o){var i=n('function'==typeof e.peek?e.peek():e,t);0>i?o&&e.push(t):!o&&e.splice(i,1)}function l(e){for(var n=[],t=0,o=e.length;t<o;t++)n.push(e[t]);return n}function p(e,n,t){if(e.length&&n.length){var o,i,a,s,d;for(o=i=0;(!t||o<t)&&(s=e[i]);++i){for(a=0;d=n[a];++a)if(s.value===d.value){s.moved=d.index,d.moved=s.index,n.splice(a,1),o=a=0;break}o+=a}}}function u(e,n,t){return t='boolean'==typeof t?{dontLimitMoves:t}:t||{},e=e||[],n=n||[],e.length<n.length?c(e,n,_t,Tt,t):c(n,e,Tt,_t,t)}function c(e,n,t,o,i){var a,s,d,r,l,u,c=St,m=[],g=e.length,h=n.length,f=g+h+1;for(a=0;a<=g;a++)for(r=d,m.push(d=[]),l=c(h,a+(h-g||1)),u=Dt(0,a-1),s=u;s<=l;s++)if(!s)d[s]=a+1;else if(!a)d[s]=s+1;else if(e[a-1]===n[s-1])d[s]=r[s-1];else{var b=r[s]||f,y=d[s-1]||f;d[s]=c(b,y)+1}var v,x=[],N=[],C=[];for(a=g,s=h;a||s;)v=m[a][s]-1,s&&v===m[a][s-1]?N.push(x[x.length]={status:t,value:n[--s],index:s}):a&&v===m[a-1][s]?C.push(x[x.length]={status:o,value:e[--a],index:a}):(--s,--a,!i.sparse&&x.push({status:'retained',value:n[s]}));return p(C,N,!i.dontLimitMoves&&10*g),x.reverse()}function m(e){return It.onError?function(){try{return e.apply(this,arguments)}catch(n){It.onError(n)}}:e}function g(e){h(function(){It.onError(e)},0)}function h(e,n){return setTimeout(m(e),n)}function f(e,n){var t;return function(){t||(t=h(function(){t=void 0,e()},n))}}function b(e,n){var t;return function(){clearTimeout(t),t=h(e,n)}}function y(e,n){if(n)for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e}function v(e,n){for(var t in e)e.hasOwnProperty(t)&&n(t,e[t])}function x(e,n){if(!e)return e;var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=n(e[o],o,e));return t}function N(e,n){return e.hasOwnProperty(n)?e[n]:void 0}function C(e,n){if(n||(n=[]),!e||'object'!=typeof e||e.constructor!==Object||-1!==n.indexOf(e))return e;n.push(e);var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=C(e[o],n));return t}function E(e,n){return e.__proto__=n,e}function D(e,n){return null===e||void 0===e||void 0===e[Pt]?!1:e[Pt]===n||D(e[Pt],n)}function S(e){return null===e||void 0===e?'':e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,'')}function _(e,n){return e=e||'',!(n.length>e.length)&&e.substring(0,n.length)===n}function T(e,n,t){if(!JSON||!JSON.stringify)throw new Error('Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don\'t support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js');return JSON.stringify('function'==typeof e?e():e,n,t)}function I(e){return $t?Symbol(e):e}function k(n,t,o){var i;t&&('object'==typeof n.classList?(i=n.classList[o?'add':'remove'],e(t.match(Lt),function(e){i.call(n.classList,e)})):'string'==typeof n.className.baseVal?O(n.className,'baseVal',t,o):O(n,'className',t,o))}function O(n,t,o,i){var a=n[t].match(Lt)||[];e(o.match(Lt),function(e){r(a,e,i)}),n[t]=a.join(' ')}function A(e,n){if(e===n)return!0;if(11===e.nodeType)return!1;if(n.contains)return n.contains(1===e.nodeType?e:e.parentNode);if(n.compareDocumentPosition)return 16==(16&n.compareDocumentPosition(e));for(;e&&e!=n;)e=e.parentNode;return!!e}function B(e){return A(e,e.ownerDocument.documentElement)}function P(e){return!!t(e,B)}function V(e){return e&&e.tagName&&e.tagName.toLowerCase()}function R(e){return window.HTMLElement?e instanceof HTMLElement:e&&e.tagName&&1===e.nodeType}function $(e){return window.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function L(e,n){var t=e[Mt],o=t&&'null'!==t&&kt[t];if(!o){if(!n)return;t=e[Mt]='ko'+jt++,kt[t]={}}return kt[t]}function F(){return jt++ +Mt}function M(e,n){var t=wt(e,Ht);return void 0===t&&n&&(t=[],Ot(e,Ht,t)),t}function j(e){Ot(e,Ht,void 0)}function W(e){var n=M(e,!1);if(n){n=n.slice(0);for(var t=0;t<n.length;t++)n[t](e)}At(e);for(var t=0,o=Qt.length;t<o;++t)Qt[t](e);Kt[e.nodeType]&&H(e)}function H(e){for(var n,t=e.firstChild;n=t;)t=n.nextSibling,8===n.nodeType&&W(n)}function U(e,n){if('function'!=typeof n)throw new Error('Callback must be a function');M(e,!0).push(n)}function K(e,n){var t=M(e,!1);t&&(o(t,n),0==t.length&&j(e))}function Q(e){if(Ut[e.nodeType]&&(W(e),Kt[e.nodeType])){var n=[];d(n,e.getElementsByTagName('*'));for(var t=0,o=n.length;t<o;t++)W(n[t])}return e}function q(e){Q(e),e.parentNode&&e.parentNode.removeChild(e)}function z(e){var n=Ft?Ft.cleanData:null;n&&n([e])}function G(e,n){if('input'!==V(e)||!e.type)return!1;if('click'!=n.toLowerCase())return!1;var t=e.type;return'checkbox'==t||'radio'==t}function J(e,n,t){var o=m(t),i=Bt&&Jt[n];if(!It.useOnlyNativeEvents&&!i&&Ft)Ft(e).bind(n,o);else if(!i&&'function'==typeof e.addEventListener)e.addEventListener(n,o,!1);else if('undefined'!=typeof e.attachEvent){var a=function(n){o.call(e,n)},s='on'+n;e.attachEvent(s,a),U(e,function(){e.detachEvent(s,a)})}else throw new Error('Browser doesn\'t support addEventListener or attachEvent')}function Y(e,n){if(!(e&&e.nodeType))throw new Error('element must be a DOM node when calling triggerEvent');var t=G(e,n);if(!It.useOnlyNativeEvents&&Ft&&!t)Ft(e).trigger(n);else if('function'==typeof document.createEvent){if('function'==typeof e.dispatchEvent){var o=zt[n]||'HTMLEvents',i=document.createEvent(o);i.initEvent(n,!0,!0,It.global,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(i)}else throw new Error('The supplied element doesn\'t support dispatchEvent');}else if(t&&e.click)e.click();else if('undefined'!=typeof e.fireEvent)e.fireEvent('on'+n);else throw new Error('Browser doesn\'t support triggering events')}function X(e,n){if(e.length){for(n=8===n.nodeType&&n.parentNode||n;e.length&&e[0].parentNode!==n;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==n;)e.length--;if(1<e.length){var t=e[0],o=e[e.length-1];for(e.length=0;t!==o;)e.push(t),t=t.nextSibling;e.push(o)}}return e}function Z(e,n){7>Bt?e.setAttribute('selected',n):e.selected=n}function ee(e){if(9<=Bt){var n=1==e.nodeType?e:e.parentNode;n.style&&(n.style.zoom=n.style.zoom)}}function ne(e){if(Bt){var n=e.style.width;e.style.width=0,e.style.width=n}}function te(e){return 8==e.nodeType&&Xt.test(Yt?e.text:e.nodeValue)}function oe(e){return 8==e.nodeType&&Zt.test(Yt?e.text:e.nodeValue)}function ie(e,n){for(var t=e,o=1,i=[];t=t.nextSibling;){if(oe(t)&&(o--,0==o))return i;i.push(t),te(t)&&o++}if(!n)throw new Error('Cannot find closing comment tag to match: '+e.nodeValue);return null}function ae(e,n){var t=ie(e,n);return t?0<t.length?t[t.length-1].nextSibling:e.nextSibling:null}function se(e){var n=e.firstChild,t=null;if(n)do if(t)t.push(n);else if(te(n)){var o=ae(n,!0);o?n=o:t=[n]}else oe(n)&&(t=[n]);while(n=n.nextSibling);return t}function de(e){return te(e)?ie(e):e.childNodes}function re(e){if(!te(e))Ee(e);else for(var n=de(e),t=0,o=n.length;t<o;t++)q(n[t])}function le(e,n){if(!te(e))ve(e,n);else{re(e);for(var t=e.nextSibling,o=0,i=n.length;o<i;o++)t.parentNode.insertBefore(n[o],t)}}function pe(e,n){te(e)?e.parentNode.insertBefore(n,e.nextSibling):e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}function ue(e,n,t){t?te(e)?e.parentNode.insertBefore(n,t.nextSibling):t.nextSibling?e.insertBefore(n,t.nextSibling):e.appendChild(n):pe(e,n)}function ce(e){return te(e)?!e.nextSibling||oe(e.nextSibling)?null:e.nextSibling:e.firstChild}function me(e){return te(e)&&(e=ae(e)),e.nextSibling&&oe(e.nextSibling)?null:e.nextSibling}function ge(e){var n=0;do if(8===e.nodeType){if(!te(e))oe(e)&&n++;else if(0==--n)return e;}else if(0==n)return e;while(e=e.previousSibling)}function he(e){var n=(Yt?e.text:e.nodeValue).match(Xt);return n?n[1]:null}function fe(e){if(eo[V(e)]){var n=e.firstChild;if(n)do if(1===n.nodeType){var t=se(n);if(t)for(var o=n.nextSibling,a=0;a<t.length;a++)o?e.insertBefore(t[a],o):e.appendChild(t[a])}while(n=n.nextSibling)}}function be(e){for(var n=l(e),t=n[0]&&n[0].ownerDocument||document,o=t.createElement('div'),a=0,i=n.length;a<i;a++)o.appendChild(Q(n[a]));return o}function ye(e,n){for(var t,o=0,i=e.length,a=[];o<i;o++)t=e[o].cloneNode(!0),a.push(n?Q(t):t);return a}function ve(e,n){if(Ee(e),n)for(var t=0,o=n.length;t<o;t++)e.appendChild(n[t])}function xe(e,n){var t=e.nodeType?[e]:e;if(0<t.length){for(var o=t[0],a=o.parentNode,s=0,i=n.length;s<i;s++)a.insertBefore(n[s],o);for(s=0,i=t.length;s<i;s++)q(t[s])}}function Ne(e,n){if(e.name=n,7>=Bt)try{e.mergeAttributes(document.createElement('<input name=\''+e.name+'\'/>'),!1)}catch(n){}}function Ce(e,n){var t='function'==typeof n?n():n;(null===t||void 0===t)&&(t='');var o=ce(e);!o||3!=o.nodeType||me(o)?le(e,[e.ownerDocument.createTextNode(t)]):o.data=t,ee(e)}function Ee(e){for(;e.firstChild;)q(e.firstChild)}function De(e){var n=e.match(/^<([a-z]+)[ >]/);return n&&ro[n[1]]||oo}function Se(e,n){n||(n=document);var t=n.parentWindow||n.defaultView||window,o=S(e).toLowerCase(),i=n.createElement('div'),a=De(o),s=a[0],d='ignored<div>'+a[1]+e+a[2]+'</div>';for('function'==typeof t.innerShiv?i.appendChild(t.innerShiv(d)):i.innerHTML=d;s--;)i=i.lastChild;return l(i.lastChild.childNodes)}function _e(e,n){n||(n=document);var t=n.createElement('template');return t.innerHTML=e,l(t.content.childNodes)}function Te(e,n){if(Ft.parseHTML)return Ft.parseHTML(e,n)||[];var t=Ft.clean([e],n);if(t&&t[0]){for(var o=t[0];o.parentNode&&11!==o.parentNode.nodeType;)o=o.parentNode;o.parentNode&&o.parentNode.removeChild(o)}return t}function Ie(e,n){return lo?_e(e,n):Ft?Te(e,n):Se(e,n)}function ke(e,n){if(Ee(e),'function'==typeof n&&(n=n()),null!==n&&void 0!==n)if('string'!=typeof n&&(n=n.toString()),Ft&&!lo)Ft(e).html(n);else{var t=Ie(n,e.ownerDocument);if(8===e.nodeType)null===n?re(e):le(e,t);else for(var o=0;o<t.length;o++)e.appendChild(t[o])}}function we(){return(0|4294967296*(1+Math.random())).toString(16).substring(1)}function Oe(){return we()+we()}function Ae(e,n){if(e)if(8==e.nodeType){var t=Re(e.nodeValue);null!=t&&n.push({domNode:e,memoId:t})}else if(1==e.nodeType)for(var o=0,i=e.childNodes,a=i.length;o<a;o++)Ae(i[o],n)}function Be(e){if('function'!=typeof e)throw new Error('You can only pass a function to memoization.memoize()');var n=Oe();return po[n]=e,'<!--[ko_memo:'+n+']-->'}function Pe(e,n){var t=po[e];if(void 0===t)throw new Error('Couldn\'t find any memo with ID '+e+'. Perhaps it\'s already been unmemoized.');try{return t.apply(null,n||[]),!0}finally{delete po[e]}}function Ve(e,n){var t=[];Ae(e,t);for(var o=0,i=t.length;o<i;o++){var a=t[o].domNode,s=[a];n&&d(s,n),Pe(t[o].memoId,s),a.nodeValue='',a.parentNode&&a.parentNode.removeChild(a)}}function Re(e){var n=e.match(/^\[ko_memo\:(.*?)\]$/);return n?n[1]:null}function $e(){if(mo)for(var e,n=mo,t=0;ho<mo;)if(e=co[ho++]){if(ho>n){if(5e3<=++t){ho=mo,g(Error('\'Too much recursion\' after processing '+t+' task groups.'));break}n=mo}try{e()}catch(e){g(e)}}}function Le(){$e(),ho=mo=co.length=0}function Fe(){It.taskScheduler(Le)}function Me(e){return mo||Fe(),co[mo++]=e,go++}function je(e){var n=e-(go-mo);n>=ho&&n<mo&&(co[n]=null)}function We(e){e._deferUpdates||(e._deferUpdates=!0,e.limit(function(n){var t;return function(){je(t),t=Me(n),e.notifySubscribers(void 0,'dirty')}}))}function He(e,n){return!!(null===e||typeof e in yo)&&e===n}function Ue(e,n,t){this._target=e,this.callback=n,this.disposeCallback=t,this.isDisposed=!1}function Ke(){Rt(this,No),No.init(this)}function Qe(e){return null!=e&&'function'==typeof e.subscribe&&'function'==typeof e.notifySubscribers}function qe(){return++Do}function ze(e){Co.push(Eo),Eo=e}function Ge(){Eo=Co.pop()}function Je(e){if(Eo){if(!Qe(e))throw new Error('Only subscribable things can act as dependencies');Eo.callback.call(Eo.callbackTarget,e,e._id||(e._id=qe()))}}function Ye(e,n,t){try{return ze(),e.apply(n,t||[])}finally{Ge()}}function Xe(){if(Eo)return Eo.computed.getDependenciesCount()}function Ze(){if(Eo)return Eo.isInitial}function en(e){function n(){return 0<arguments.length?(n.isDifferent(n[_o],arguments[0])&&(n.valueWillMutate(),n[_o]=arguments[0],n.valueHasMutated()),this):(Je(n),n[_o])}return n[_o]=e,Vt||y(n,Ke.fn),Ke.fn.init(n),Rt(n,en.fn),It.deferUpdates&&We(n),n}function nn(e,n){n&&n!==xo?'beforeChange'===n?this._limitBeforeChange(e):this._origNotifySubscribers(e,n):this._limitChange(e)}function tn(e){return D(e,en)}function on(e){return tn(e)?e():e}function an(e){return tn(e)?e.peek():e}function sn(e){return'function'==typeof e&&e[To]===en||'function'==typeof e&&e.hasWriteFunction}function dn(e,n){function t(){if(!a){a=!0;var n=e.notifySubscribers;e.notifySubscribers=function(e,t){return t&&t!==xo||++d,n.apply(this,arguments)};var t=[].concat(e.peek()||[]);s=null,i=e.subscribe(function(n){if(n=[].concat(n||[]),e.hasSubscriptionsForEvent(Io))var i=o(t,n);t=n,s=null,d=0,i&&i.length&&e.notifySubscribers(i,Io)})}}function o(n,t){return(!s||1<d)&&(s=dn.compareArrays(n,t,e.compareArrayOptions)),s}if(e.compareArrayOptions={},n&&'object'==typeof n&&y(e.compareArrayOptions,n),e.compareArrayOptions.sparse=!0,!e.cacheDiffForKnownOperation){var i,a=!1,s=null,d=0,r=e.beforeSubscriptionAdd,l=e.afterSubscriptionRemove;e.beforeSubscriptionAdd=function(n){r&&r.call(e,n),n===Io&&t()},e.afterSubscriptionRemove=function(n){l&&l.call(e,n),n!==Io||e.hasSubscriptionsForEvent(Io)||(i&&i.dispose(),i=null,a=!1)},e.cacheDiffForKnownOperation=function(e,n,t){function o(e,n,t){return l[l.length]={status:e,value:n,index:t}}var i,r;if(a&&!d){var l=[],u=e.length,c=t.length,m=0;switch(n){case'push':m=u;case'unshift':for(i=0;i<c;i++)o('added',t[i],m+i);break;case'pop':m=u-1;case'shift':u&&o('deleted',e[m],m);break;case'splice':var g=St(Dt(0,0>t[0]?u+t[0]:t[0]),u),h=1===c?u:St(g+(t[1]||0),u),f=g+c-2,b=Dt(h,f),y=[],v=[];for(i=g,r=2;i<b;++i,++r)i<h&&v.push(o('deleted',e[i],i)),i<f&&y.push(o('added',t[r],i));p(v,y);break;default:return;}s=l}}}}function rn(e){if(e=e||[],'object'!=typeof e||!('length'in e))throw new Error('The argument passed when initializing an observable array must be an array, or null, or undefined.');var n=en(e);return Rt(n,rn.fn),dn(n),n}function ln(e){if(0==arguments.length)throw new Error('When calling ko.toJS, pass the object you want to convert.');return pn(e,function(e){for(var n=0;tn(e)&&n<ko;n++)e=e();return e})}function pn(e,n,t){t=t||new cn,e=n(e);var o='object'==typeof e&&null!==e&&void 0!==e&&!(e instanceof RegExp)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof Number)&&!(e instanceof Boolean);if(!o)return e;var i=e instanceof Array?[]:{};return t.save(e,i),un(e,function(o){var a=n(e[o]);switch(typeof a){case'boolean':case'number':case'string':case'function':i[o]=a;break;case'object':case'undefined':var s=t.get(a);i[o]=void 0===s?pn(a,n,t):s;}}),i}function un(e,n){if(e instanceof Array){for(var t=0;t<e.length;t++)n(t);'function'==typeof e.toJSON&&n('toJSON')}else for(var o in e)n(o)}function cn(){this.keys=[],this.values=[]}function mn(e,n,t){function o(){if(0<arguments.length){if('function'==typeof i)i.apply(a.evaluatorFunctionTarget,arguments);else throw new Error('Cannot write a value to a computed unless you specify a \'write\' option. If you wish to read the current value, don\'t pass any parameters.');return this}return Je(o),(a.isStale||a.isSleeping&&o.haveDependenciesChanged())&&o.evaluateImmediate(),a.latestValue}if('object'==typeof e?t=e:(t=t||{},e&&(t.read=e)),'function'!=typeof t.read)throw Error('Pass a function that returns the value of the computed');var i=t.write,a={latestValue:void 0,isStale:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:t.read,evaluatorFunctionTarget:n||t.owner,disposeWhenNodeIsRemoved:t.disposeWhenNodeIsRemoved||t.disposeWhenNodeIsRemoved||null,disposeWhen:t.disposeWhen||t.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};return o[wo]=a,o.hasWriteFunction='function'==typeof i,Vt||y(o,Ke.fn),Ke.fn.init(o),Rt(o,mn.fn),t.pure?(a.pure=!0,a.isSleeping=!0,y(o,Oo)):t.deferEvaluation&&y(o,Ao),It.deferUpdates&&vo.deferred(o,!0),It.debug&&(o._options=t),a.disposeWhenNodeIsRemoved&&(a.suppressDisposalUntilDisposeWhenReturnsFalse=!0,!a.disposeWhenNodeIsRemoved.nodeType&&(a.disposeWhenNodeIsRemoved=null)),a.isSleeping||t.deferEvaluation||o.evaluateImmediate(),a.disposeWhenNodeIsRemoved&&o.isActive()&&U(a.disposeWhenNodeIsRemoved,a.domNodeDisposalCallback=function(){o.dispose()}),o}function gn(e,n){null!==n&&n.dispose&&n.dispose()}function hn(e,n){var t=this.computedObservable,o=t[wo];o.isDisposed||(this.disposalCount&&this.disposalCandidates[n]?(t.addDependencyTracking(n,e,this.disposalCandidates[n]),this.disposalCandidates[n]=null,--this.disposalCount):!o.dependencyTracking[n]&&t.addDependencyTracking(n,e,o.isSleeping?{_target:e}:t.subscribeToDependency(e)))}function fn(e,n){return'function'==typeof e?mn(e,n,{pure:!0}):(e=y({},e),e.pure=!0,mn(e,n))}function bn(){}function yn(e){var n=S(e);123===n.charCodeAt(0)&&(n=n.slice(1,-1));var t,o=[],a=n.match(Qo),s=[],d=0;if(!a)return[];a.push(',');for(var r,l,p=0;r=a[p];++p){if(l=r.charCodeAt(0),44===l){if(0>=d){o.push(t&&s.length?{key:t,value:s.join('')}:{unknown:t||s.join('')}),t=d=0,s=[];continue}}else if(58===l){if(!d&&!t&&1===s.length){t=s.pop();continue}}else if(47===l&&p&&1<r.length){var i=a[p-1].match(qo);i&&!zo[i[0]]&&(n=n.substr(n.indexOf(r)+1),a=n.match(Qo),a.push(','),p=-1,r='/')}else 40===l||123===l||91===l?++d:41===l||125===l||93===l?--d:t||s.length||34!==l&&39!==l||(r=r.slice(1,-1));s.push(r)}return o}function vn(e,n){var t,o=N(ei,e);o?o.subscribe(n):(o=ei[e]=new Ke,o.subscribe(n),xn(e,function(n,i){var a=!!(i&&i.synchronous);ni[e]={definition:n,isSynchronousComponent:a},delete ei[e],t||a?o.notifySubscribers(n):Me(function(){o.notifySubscribers(n)})}),t=!0)}function xn(e,n){Nn('getConfig',[e],function(t){t?Nn('loadComponent',[e,t],function(e){n(e,t)}):n(null,null)})}function Nn(e,n,t,o){o||(o=ti.loaders.slice(0));var i=o.shift();if(i){var a=i[e];if(a){var s=!1,d=a.apply(i,n.concat(function(i){s?t(null):null===i?Nn(e,n,t,o):t(i)}));if(void 0!==d&&(s=!0,!i.suppressLoaderExceptions))throw new Error('Component loaders must supply values by invoking the callback, not by returning values synchronously.')}else Nn(e,n,t,o)}else t(null)}function Cn(e,n){if(!n)throw new Error('Invalid configuration for '+e);if(En(e))throw new Error('Component '+e+' is already registered');si[e]=n}function En(e){return si.hasOwnProperty(e)}function Dn(e,n,t,o){var i={},a=2,s=function(){0==--a&&o(i)},d=t.template,r=t.viewModel;d?In(n,d,function(n){ti._getFirstResultFromLoaders('loadTemplate',[e,n],function(e){i.template=e,s()})}):s(),r?In(n,r,function(n){ti._getFirstResultFromLoaders('loadViewModel',[e,n],function(e){i[ri]=e,s()})}):s()}function Sn(e,n,t){if('string'==typeof n)t(Ie(n));else if(n instanceof Array)t(n);else if($(n))t(l(n.childNodes));else if(n.element){var o=n.element;if(R(o))t(Tn(o));else if('string'==typeof o){var i=document.getElementById(o);i?t(Tn(i)):e('Cannot find element with ID '+o)}else e('Unknown element type: '+o)}else e('Unknown template value: '+n)}function _n(e,n,t){if('function'==typeof n)t(function(e){return new n(e)});else if('function'==typeof n[ri])t(n[ri]);else if('instance'in n){var o=n.instance;t(function(){return o})}else'viewModel'in n?_n(e,n.viewModel,t):e('Unknown viewModel value: '+n)}function Tn(e){switch(V(e)){case'script':return Ie(e.text);case'textarea':return Ie(e.value);case'template':if($(e.content))return ye(e.content.childNodes);}return ye(e.childNodes)}function In(e,n,t){'string'==typeof n.require?window.amdRequire||window.require?(window.amdRequire||window.require)([n.require],t):e('Uses require, but no AMD loader is present'):t(n)}function kn(e){return function(n){throw new Error('Component \''+e+'\': '+n)}}function*wn(e){const n=e.match(gi);if(n){const[e,t,o]=n.slice(1);yield*wn(e),yield new vi(t),yield new yi(o)}else yield new yi(e)}function*On(e){if(e){let[n,t,o]=e.slice(1);yield new vi(n),yield*wn(t),yield new vi(o)}}function*An(e){for(const n of On(e.match(hi)))n.text&&(yield n)}function Bn(e,n,t,i,a){function s(){var o=p?e():e,a=on(o);return n?(n._subscribable&&n._subscribable(),y(l,n),l._subscribable=r):(l.$parents=[],l.$root=a,l.ko=It.knockoutInstance),l.$rawData=o,l.$data=a,t&&(l[t]=a),i&&i(l,n,a),l.$data}var d,r,l=this,p='function'==typeof e&&!tn(e);return a&&a.exportDependencies?void s():void(r=mn(s,null,{disposeWhen:function(){return d&&!P(d)},disposeWhenNodeIsRemoved:!0}),r.isActive()&&(l._subscribable=r,r.equalityComparer=null,d=[],r._addNode=function(e){d.push(e),U(e,function(e){o(d,e),d.length||(r.dispose(),l._subscribable=r=void 0)})}))}function Pn(e,n){return 2==arguments.length?void(Ot(e,Ei,n),n._subscribable&&n._subscribable._addNode(e)):wt(e,Ei)}function Vn(e){switch(e.nodeType){case 1:case 8:var n=Pn(e);if(n)return n;if(e.parentNode)return Vn(e.parentNode);}}function Rn(e,n){return e?e.isBindingHandlerClass?e:Ii.getOrCreateFor(n,e):void 0}function $n(e,n){return n&&'function'==typeof n.getBindingHandler?Rn(n.getBindingHandler(e)):void 0}function Ln(e){return Rn(It.bindingProviderInstance.bindingHandlers.get(e),e)}function Fn(e){return function(){return e}}function Mn(e){return e()}function jn(e){return x(Ye(e),function(n,t){return function(){return e()[t]}})}function Wn(e,n,t){return'function'==typeof e?jn(e.bind(null,n,t)):x(e,Fn)}function Hn(e,n){return jn(this.getBindings.bind(this,e,n))}function Un(e,n,t,o){var i,a=ce(n);const s=It.bindingProviderInstance,d=s.preprocessNode;if(d){for(;i=a;)a=me(i),d.call(s,i);a=ce(n)}for(;i=a;)a=me(i),Qn(e,i,t,o)}function Kn(e){const n=It.bindingProviderInstance;return n.FOR_NODE_TYPES.includes(e.nodeType)&&n.nodeHasBindings(e)}function Qn(e,n,t,o){var i=1===n.nodeType;i&&fe(n);var a=i&&t||Kn(n);const{shouldBindDescendants:s}=a?zn(n,null,e,t,o):{shouldBindDescendants:!0};s&&!ki[V(n)]&&Un(e,n,!i,o)}function*qn(t,o){const i=[],a={},s=[];v(t,function d(r){if(!a[r]){const a=$n(r,o)||Ln(r);if(!a)return;a.after&&(s.push(r),e(a.after,function(e){if(t[e])if(-1!==n(s,e))throw Error('Cannot combine the following bindings, because they have a cyclic dependency: '+s.join(', '));else d(e)}),s.length--),i.push([r,a])}a[r]=!0});for(const e of i)yield e}function zn(e,n,t,o,i){var a=wt(e,wi);if(!n){if(a)return Zn({during:'apply',errorCaptured:new Error('You cannot apply bindings multiple times to the same element.'),element:e,bindingContext:t}),!1;Ot(e,wi,!0)}!a&&o&&Pn(e,t);var s;if(n&&'function'!=typeof n)s=n;else{const o=It.bindingProviderInstance,i=o.getBindingAccessors||Hn;if(o.FOR_NODE_TYPES.includes(e.nodeType)){var d=mn(function(){return s=n?n(t,e):i.call(o,e,t),s&&t._subscribable&&t._subscribable(),s},null,{disposeWhenNodeIsRemoved:e});s&&d.isActive()||(d=null)}}var r;if(s){function n(){return x(d?d():s,Mn)}const o=t.$component||{},a={};Ot(e,'bindingHandlers',a);const l=d?(e)=>function(n){var t=d()[e];return 0===arguments.length?Mn(t):t(n)}:(e)=>s[e];n.has=(e)=>e in s,n.get=(e)=>s[e]&&Mn(l(e));const p=Array.from(qn(s,o));for(const[o,d]of p){function p(i,a){Zn({during:i,errorCaptured:a,bindings:s,allBindings:n,bindingKey:o,bindingContext:t,element:e,valueAccessor:l(o)})}if(8===e.nodeType&&!d.allowVirtualElements)throw new Error(`The binding [${o}] cannot be used with virtual elements`);try{const s=Ye(()=>new d({allBindings:n,$element:e,$context:t,onError:p,valueAccessor(...e){return l(o)(...e)}}));if(a[o]=s,s.controlsDescendants){if(void 0!=r)throw new Error('Multiple bindings ('+r+' and '+o+') are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.');r=o}s.bindingCompleted instanceof It.Promise&&i.add(s.bindingCompleted)}catch(e){p('creation',e)}}}return{shouldBindDescendants:void 0===r}}function Gn(e){return e&&e instanceof Bn?e:new Bn(e)}function Jn(e,n,t,o){return 1===e.nodeType&&fe(e),zn(e,n,Gn(t),!0,o)}function Yn(e,n){const t=new Set;return(1===n.nodeType||8===n.nodeType)&&Un(Gn(e),n,!0,t),It.Promise.all(t)}function Xn(e,n){const t=new Set;if(void 0===!It.jQuery&&It.jQuery&&(It.jQuery=It.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw new Error('ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node');return n=n||It.document.body,Qn(Gn(e),n,!0,t),It.Promise.all(t)}function Zn(e){var n;e.bindingKey?(n=e.errorCaptured,e.message='Unable to process binding "'+e.bindingKey+'" in binding "'+e.bindingKey+'"\nMessage: '+(n.message?n.message:n)):n=e.errorCaptured;try{y(n,e)}catch(t){e.stack=n.stack,n=new Error(n.message?n.message:n),y(n,e)}It.onError(n)}function et(e,n,t,o,i){var a=[],s=mn(function(){var s=n(t,i,X(a,e))||[];0<a.length&&(xe(a,s),o&&Ye(o,null,[t,s,i])),a.length=0,d(a,s)},null,{disposeWhenNodeIsRemoved:e,disposeWhen:function(){return!P(a)}});return{mappedNodes:a,dependentObservable:s.isActive()?s:void 0}}function nt(n,t,o,s,d){function r(e,t){p=h[t],N!==t&&(S[e]=p),p.indexObservable(N++),X(p.mappedNodes,n),v.push(p),E.push(p)}function l(t,o){if(t)for(var a=0,i=o.length;a<i;a++)o[a]&&e(o[a].mappedNodes,function(e){t(e,a,o[a].arrayEntry)})}t=t||[],s=s||{};for(var p,c,m,g=void 0===wt(n,Oi),h=wt(n,Oi)||[],f=a(h,function(e){return e.arrayEntry}),b=u(f,t,s.dontLimitMoves),v=[],x=0,N=0,C=[],E=[],D=[],S=[],_=[],T=0;c=b[T];T++)switch(m=c.moved,c.status){case'deleted':void 0===m&&(p=h[x],p.dependentObservable&&(p.dependentObservable.dispose(),p.dependentObservable=void 0),X(p.mappedNodes,n).length&&(s.beforeRemove&&(v.push(p),E.push(p),p.arrayEntry===Ai?p=null:D[T]=p),p&&C.push.apply(C,p.mappedNodes))),x++;break;case'retained':r(T,x++);break;case'added':void 0===m?(p={arrayEntry:c.value,indexObservable:en(N++)},v.push(p),E.push(p),!g&&(_[T]=p)):r(T,m);}Ot(n,Oi,v),l(s.beforeMove,S),e(C,s.beforeRemove?Q:q),T=0;for(var i,I,k=ce(n);p=E[T];T++){p.mappedNodes||y(p,et(n,o,p.arrayEntry,d,p.indexObservable));for(var w=0;I=p.mappedNodes[w];k=I.nextSibling,i=I,w++)I!==k&&ue(n,I,i);!p.initialized&&d&&(d(p.arrayEntry,p.mappedNodes,p.indexObservable),p.initialized=!0)}for(l(s.beforeRemove,D),T=0;T<D.length;++T)D[T]&&(D[T].arrayEntry=Ai);l(s.afterMove,S),l(s.afterAdd,_)}function tt(e){if(this.domElement=e,!!e){var n=V(e);this.templateType='script'===n?oa:'textarea'===n?ia:'template'==n&&e.content&&11===e.content.nodeType?aa:sa}}function ot(e){return wt(e,ra)||{}}function it(e,n){Ot(e,ra,n)}function at(e){this.domElement=e}function st(){}function dt(e){if(void 0!==e&&!(e instanceof st))throw new Error('templateEngine must inherit from ko.templateEngine');la=e}function rt(e,n,t){for(let o,i=e,a=me(n);i&&(o=i)!==a;)i=me(o),t(o,i)}function lt(e,n,t){if(e.length){var o=e[0],i=e[e.length-1],a=o.parentNode,s=It.bindingProviderInstance,d=s.preprocessNode;if(d){if(rt(o,i,function(e,n){var t=e.previousSibling,a=d.call(s,e);a&&(e===o&&(o=a[0]||n),e===i&&(i=a[a.length-1]||t))}),e.length=0,!o)return;o===i?e.push(o):(e.push(o,i),X(e,a))}rt(o,i,function(e){(1===e.nodeType||8===e.nodeType)&&Xn(n,e).then(t)}),rt(o,i,function(e){(1===e.nodeType||8===e.nodeType)&&Ve(e,[n])}),X(e,a)}}function pt(e){return e.nodeType?e:0<e.length?e[0]:null}function ut(e,n,t,o,i,a){i=i||{};var s=e&&pt(e),d=(s||t||{}).ownerDocument,r=i.templateEngine||la,l=r.renderTemplate(t,o,i,d);if('number'!=typeof l.length||0<l.length&&'number'!=typeof l[0].nodeType)throw new Error('Template engine must return an array of DOM nodes');var p=!1;switch(n){case'replaceChildren':le(e,l),p=!0;break;case'replaceNode':xe(e,l),p=!0;break;case'ignoreTargetNode':break;default:throw new Error('Unknown renderMode: '+n);}return p&&(lt(l,o,a),i.afterRender&&Ye(i.afterRender,null,[l,o.$data])),l}function ct(e,n,t){return tn(e)?e():'function'==typeof e?e(n,t):e}function mt(e,n,t,o,i,a){if(t=t||{},void 0===(t.templateEngine||la))throw new Error('Set a template engine before calling renderTemplate');if(i=i||'replaceChildren',o){var s=pt(o),d=function(){return!s||!B(s)},r=s&&'replaceNode'===i?s.parentNode:s;return mn(function(){var d=n&&n instanceof Bn?n:new Bn(n,null,null,null,{exportDependencies:!0}),r=ct(e,d.$data,d);const l=ut(o,i,r,d,t,a);'replaceNode'===i&&(o=l,s=pt(o))},null,{disposeWhen:d,disposeWhenNodeIsRemoved:r})}return Be(function(o){mt(e,n,t,o,'replaceNode')})}function gt(e,n,t,o,i,a){function d(n,o){r=i.createChildContext(n,t.as,function(e){e.$index=o});var s=ct(e,n,r);return ut(null,'ignoreTargetNode',s,r,t,a)}var r,l=function(e,n){lt(n,r,a),t.afterRender&&t.afterRender(n,e),r=null};return mn(function(){var e=on(n)||[];'number'!=typeof e.length&&(e=[e]);var i=s(e,function(e){return t.includeDestroyed||void 0===e||null===e||!on(e._destroy)});Ye(nt,null,[o,i,d,t,l])},null,{disposeWhenNodeIsRemoved:o})}function ht(){}function ft(e){return 8===e.nodeType&&'else'===e.nodeValue.trim().toLowerCase()}function bt(e){for(var n=de(e),t=0,o=n.length;t<o;++t)if(ft(n[t]))return!0;return!1}function yt(e,n){const t=de(e),o=[],a=[];let s=o;for(var d=0,i=t.length;d<i;++d)n&&ft(t[d])?(s=a,n=!1):s.push(Q(t[d].cloneNode(!0)));return{ifNodes:o,elseNodes:a}}function vt(e){return!!e&&'object'==typeof e&&e.constructor===Object}function xt(n){var t,o=document.createElement('div');return n.content?t=n.content:'SCRIPT'===n.tagName?(t=document.createElement('div'),t.innerHTML=n.text):t=n,e(de(t),function(e){e&&o.insertBefore(e.cloneNode(!0),null)}),o}function Nt(e,n){return{status:'added',value:e,index:n}}function Ct(e,n){e&&(n.$index=en()),n.$list=this.data}var Et,Dt=Math.max,St=Math.min,_t='added',Tt='deleted';try{Et=window}catch(n){Et=global}var It={deferUpdates:!1,useOnlyNativeEvents:!1,protoProperty:'__ko_proto__',defaultBindingAttribute:'data-bind',allowVirtualElements:!0,bindingGlobals:Et,bindingProviderInstance:null,jQuery:Et&&Et.jQuery,Promise:Et&&Et.Promise,taskScheduler:null,debug:!1,global:Et,document:Et.document,filters:{},onError:function(n){throw n},set:function(e,n){It[e]=n}};Object.defineProperty(It,'$',{get:function(){return It.jQuery}});var kt,wt,Ot,At,Bt=It.document&&function(){for(var e=3,n=It.document.createElement('div'),t=n.getElementsByTagName('i');n.innerHTML='<!--[if gt IE '+ ++e+']><i></i><![endif]-->',t[0];);return 4<e?e:void 0}(),Pt=It.protoProperty,Vt={__proto__:[]}instanceof Array,Rt=Vt?E:y,$t='function'==typeof Symbol,Lt=/\S+/g,Ft=It.global&&It.global.jQuery,Mt='__ko__data'+new Date,jt=0;'WeakMap'in It.global?(kt=new WeakMap,wt=function(e,n){return(kt.get(e)||{})[n]},Ot=function(e,n,t){var o;kt.has(e)?o=kt.get(e):(o={},kt.set(e,o)),o[n]=t},At=function(e){return kt.delete(e)}):(kt={},wt=function(e,n){var t=L(e,!1);return void 0===t?void 0:t[n]},Ot=function(e,n,t){if(void 0!==t||void 0!==L(e,!1)){var o=L(e,!0);o[n]=t}},At=function(e){var n=e[Mt];return!!n&&(delete kt[n],e[Mt]=null,!0)});var Wt=Object.freeze({nextKey:F,get get(){return wt},get set(){return Ot},get clear(){return At}}),Ht=F(),Ut={1:!0,8:!0,9:!0},Kt={1:!0,9:!0},Qt=[];Qt.push(z);var qt={},zt={},Gt=It.global.navigator&&/Firefox\/2/i.test(It.global.navigator.userAgent)?'KeyboardEvent':'UIEvents';qt[Gt]=['keyup','keydown','keypress'],qt.MouseEvents=['click','dblclick','mousedown','mouseup','mousemove','mouseover','mouseout','mouseenter','mouseleave'],v(qt,function(e,n){if(n.length)for(var t=0,o=n.length;t<o;t++)zt[n[t]]=e});var Jt={propertychange:!0},Yt=It.document&&'<!--test-->'===It.document.createComment('test').text,Xt=Yt?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,Zt=Yt?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,eo={ul:!0,ol:!0},no={},to=Object.freeze({startCommentRegex:Xt,endCommentRegex:Zt,isStartComment:te,isEndComment:oe,getVirtualChildren:ie,allowedBindings:no,hasBindingValue:te,childNodes:de,emptyNode:re,setDomNodeChildren:le,prepend:pe,insertAfter:ue,firstChild:ce,lastChild:function(e){var n,t=ce(e);do n=t;while(t=me(t));return n},nextSibling:me,previousSibling:ge,virtualNodeBindingValue:he,normaliseVirtualElementDomStructure:fe}),oo=[0,'',''],io=[1,'<table>','</table>'],ao=[3,'<table><tbody><tr>','</tr></tbody></table>'],so=[1,'<select multiple=\'multiple\'>','</select>'],ro={area:[1,'<map>','</map>'],col:[2,'<table><tbody></tbody><colgroup>','</colgroup></table>'],colgroup:io,caption:io,legend:[1,'<fieldset>','</fieldset>'],thead:io,tbody:io,tfoot:io,tr:[2,'<table><tbody>','</tbody></table>'],td:ao,th:ao,option:so,optgroup:so,param:[1,'<object>','</object>']},lo=It.document&&'content'in It.document.createElement('template'),po={},uo=Object.freeze({memoize:Be,unmemoize:Pe,unmemoizeDomNodeAndDescendants:Ve,parseMemoText:Re}),co=[],mo=0,go=1,ho=0,fo=It.global;It.taskScheduler=fo&&fo.MutationObserver&&!(fo.navigator&&fo.navigator.standalone)?function(e){var n=fo.document.createElement('div');return new MutationObserver(e).observe(n,{attributes:!0}),function(){n.classList.toggle('foo')}}(Le):fo&&fo.document&&'onreadystatechange'in fo.document.createElement('script')?function(e){var n=document.createElement('script');n.onreadystatechange=function(){n.onreadystatechange=null,document.documentElement.removeChild(n),n=null,e()},document.documentElement.appendChild(n)}:function(e){setTimeout(e,0)};var w=Object.freeze({schedule:Me,cancel:je,resetForTesting:function(){var e=mo-ho;return ho=mo=co.length=0,e},runEarly:$e}),bo=Object.freeze({tasks:w,virtualElements:to,domData:Wt,memoization:uo,jQuerySetInstance:function(e){It.jQuery=Ft=e},options:It,arrayForEach:e,arrayIndexOf:n,arrayFirst:t,arrayRemoveItem:o,arrayGetDistinctValues:i,arrayMap:a,arrayFilter:s,arrayPushAll:d,addOrRemoveItem:r,makeArray:l,range:function(e,n){e='function'==typeof e?e():e,n='function'==typeof n?n():n;for(var t=[],o=e;o<=n;o++)t.push(o);return t},findMovesInArrayComparison:p,compareArrays:u,throttle:f,debounce:b,catchFunctionErrors:m,deferError:g,safeSetTimeout:h,ieVersion:Bt,isIe6:6===Bt,isIe7:7===Bt,extend:y,objectForEach:v,objectMap:x,getObjectOwnProperty:N,clonePlainObjectDeep:C,canSetPrototype:Vt,setPrototypeOf:E,setPrototypeOfOrExtend:Rt,hasPrototype:D,stringTrim:S,stringStartsWith:_,parseJson:function(e){return'string'==typeof e&&(e=S(e),e)?JSON&&JSON.parse?JSON.parse(e):new Function('return '+e)():null},stringifyJson:T,useSymbols:$t,createSymbolOrString:I,toggleDomNodeCssClass:k,registerEventHandler:J,triggerEvent:Y,domNodeIsContainedBy:A,domNodeIsAttachedToDocument:B,anyDomNodeIsAttachedToDocument:P,tagNameLower:V,isDomElement:R,isDocumentFragment:$,moveCleanedNodesToContainerElement:be,cloneNodes:ye,setDomNodeChildren:ve,replaceDomNodes:xe,setElementName:Ne,setTextContent:Ce,emptyDomNode:Ee,fixUpContinuousNodeArray:X,setOptionNodeSelectionState:Z,forceRefresh:ee,ensureSelectElementIsRenderedCorrectly:ne,parseHtmlFragment:Ie,setHtml:ke,addDisposeCallback:U,removeDisposeCallback:K,cleanNode:Q,removeNode:q,otherNodeCleanerFunctions:Qt,cleanjQueryData:z}),yo={undefined:1,boolean:1,number:1,string:1},vo={notify:function(e,n){e.equalityComparer='always'==n?null:He},deferred:function(e,n){if(!0!==n)throw new Error('The \'deferred\' extender only accepts the value \'true\', because it is not supported to turn deferral off once enabled.');We(e)},rateLimit:function(e,n){var t,o,i;'number'==typeof n?t=n:(t=n.timeout,o=n.method),e._deferUpdates=!1,i='notifyWhenChangesStop'==o?b:f,e.limit(function(e){return i(e,t)})}};Ue.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()};var xo='change',No={init(e){e._subscriptions={},e._versionNumber=1},subscribe(e,n,t){var i=this;t=t||xo;var a=n?e.bind(n):e,s=new Ue(i,a,function(){o(i._subscriptions[t],s),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(t)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(t),i._subscriptions[t]||(i._subscriptions[t]=[]),i._subscriptions[t].push(s),s},notifySubscribers(e,n){if(n=n||xo,n===xo&&this.updateVersion(),this.hasSubscriptionsForEvent(n))try{ze();for(var t,o=this._subscriptions[n].slice(0),a=0;t=o[a];++a)t.isDisposed||t.callback(e)}finally{Ge()}},getVersion(){return this._versionNumber},hasChanged(e){return this.getVersion()!==e},updateVersion(){++this._versionNumber},hasSubscriptionsForEvent(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var n=0;return v(this._subscriptions,function(e,t){'dirty'!==e&&(n+=t.length)}),n},isDifferent(e,n){return!this.equalityComparer||!this.equalityComparer(e,n)},once(e){const n=this.subscribe((t)=>{n.dispose(),e(t)})},when(e,n){const t=this.peek(),o=1<arguments.length,i='function'==typeof e?e:(n)=>n===e;return i(t)?It.Promise.resolve(o?n:t):new It.Promise((e)=>{const t=this.subscribe((a)=>{i(a)&&(t.dispose(),e(o?n:a))})})},yet(e,...n){const t='function'==typeof e?e:(n)=>n===e;return this.when((e)=>!t(e),...n)},next(){return new Promise((e)=>this.once(e))},extend:function(e){var n=this;return e&&v(e,function(e,t){var o=vo[e];'function'==typeof o?n=o(n,t)||n:It.onError(new Error('Extender not found: '+e))}),n}};Vt&&E(No,Function.prototype),Ke.fn=No;const Co=[];let Eo,Do=0;var So=Object.freeze({begin:ze,end:Ge,registerDependency:Je,ignore:Ye,getDependenciesCount:Xe,isInitial:Ze,ignoreDependencies:Ye}),_o=I('_latestValue');en.fn={equalityComparer:He,peek(){return this[_o]},valueHasMutated(){this.notifySubscribers(this[_o])},valueWillMutate(){this.notifySubscribers(this[_o],'beforeChange')},then(e,n){try{e(this())}catch(t){n(t)}}},Ke.fn.limit=function(e){var n,t,o,i=this,a=tn(i);i._origNotifySubscribers||(i._origNotifySubscribers=i.notifySubscribers,i.notifySubscribers=nn);var s=e(function(){i._notificationIsPending=!1,a&&o===i&&(o=i()),n=!1,i.isDifferent(t,o)&&i._origNotifySubscribers(t=o)});i._limitChange=function(e){i._notificationIsPending=n=!0,o=e,s()},i._limitBeforeChange=function(e){n||(t=e,i._origNotifySubscribers(e,'beforeChange'))}},Vt&&E(en.fn,Ke.fn);var To=en.protoProperty=It.protoProperty;en.fn[To]=en;var Io='arrayChange';dn.compareArrays=u,vo.trackArrayChanges=dn,rn.fn={remove:function(e){for(var n,t=this.peek(),o=[],a='function'!=typeof e||tn(e)?function(n){return n===e}:e,s=0;s<t.length;s++)n=t[s],a(n)&&(0===o.length&&this.valueWillMutate(),o.push(n),t.splice(s,1),s--);return o.length&&this.valueHasMutated(),o},removeAll:function(e){if(void 0===e){var t=this.peek(),o=t.slice(0);return this.valueWillMutate(),t.splice(0,t.length),this.valueHasMutated(),o}return e?this.remove(function(t){return 0<=n(e,t)}):[]},destroy:function(e){var n=this.peek(),t='function'!=typeof e||tn(e)?function(n){return n===e}:e;this.valueWillMutate();for(var o,a=n.length-1;0<=a;a--)o=n[a],t(o)&&(n[a]._destroy=!0);this.valueHasMutated()},destroyAll:function(e){return void 0===e?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=n(e,t)}):[]},indexOf:function(e){var t=this();return n(t,e)},replace:function(e,n){var t=this.indexOf(e);0<=t&&(this.valueWillMutate(),this.peek()[t]=n,this.valueHasMutated())}},Vt&&E(rn.fn,en.fn),e(['pop','push','reverse','shift','sort','splice','unshift'],function(e){rn.fn[e]=function(){var n=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(n,e,arguments);var t=n[e].apply(n,arguments);return this.valueHasMutated(),t===n?this:t}}),e(['slice'],function(e){rn.fn[e]=function(){var n=this();return n[e].apply(n,arguments)}});var ko=10;cn.prototype={constructor:cn,save:function(e,t){var o=n(this.keys,e);0<=o?this.values[o]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var t=n(this.keys,e);return 0<=t?this.values[t]:void 0}};var wo=I('_state');mn.fn={equalityComparer:He,getDependenciesCount:function(){return this[wo].dependenciesCount},addDependencyTracking:function(e,n,t){if(this[wo].pure&&n===this)throw Error('A \'pure\' computed must not be called recursively');this[wo].dependencyTracking[e]=t,t._order=this[wo].dependenciesCount++,t._version=n.getVersion()},haveDependenciesChanged:function(){var e,n,t=this[wo].dependencyTracking;for(e in t)if(t.hasOwnProperty(e)&&(n=t[e],n._target.hasChanged(n._version)))return!0},markDirty:function(){this._evalDelayed&&!this[wo].isBeingEvaluated&&this._evalDelayed()},isActive:function(){return this[wo].isStale||0<this[wo].dependenciesCount},respondToChange:function(){this._notificationIsPending||this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates&&!this[wo].disposeWhenNodeIsRemoved){var n=e.subscribe(this.markDirty,this,'dirty'),t=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){n.dispose(),t.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,n=e.throttleEvaluation;n&&0<=n?(clearTimeout(this[wo].evaluationTimeoutInstance),this[wo].evaluationTimeoutInstance=h(function(){e.evaluateImmediate(!0)},n)):e._evalDelayed?e._evalDelayed():e.evaluateImmediate(!0)},evaluateImmediate:function(e){var n=this,t=n[wo],o=t.disposeWhen;if(!t.isBeingEvaluated&&!t.isDisposed){if(!(t.disposeWhenNodeIsRemoved&&!B(t.disposeWhenNodeIsRemoved)||o&&o()))t.suppressDisposalUntilDisposeWhenReturnsFalse=!1;else if(!t.suppressDisposalUntilDisposeWhenReturnsFalse)return void n.dispose();t.isBeingEvaluated=!0;try{this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{t.isBeingEvaluated=!1}t.dependenciesCount||n.dispose()}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var n=this,t=n[wo],o=t.pure?void 0:!t.dependenciesCount,i={computedObservable:n,disposalCandidates:t.dependencyTracking,disposalCount:t.dependenciesCount};ze({callbackTarget:i,callback:hn,computed:n,isInitial:o}),t.dependencyTracking={},t.dependenciesCount=0;var a=this.evaluateImmediate_CallReadThenEndDependencyDetection(t,i);n.isDifferent(t.latestValue,a)&&(!t.isSleeping&&n.notifySubscribers(t.latestValue,'beforeChange'),t.latestValue=a,t.isSleeping?n.updateVersion():e&&n.notifySubscribers(t.latestValue)),o&&n.notifySubscribers(t.latestValue,'awake')},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,n){try{var t=e.readFunction;return e.evaluatorFunctionTarget?t.call(e.evaluatorFunctionTarget):t()}finally{Ge(),n.disposalCount&&!e.isSleeping&&v(n.disposalCandidates,gn),e.isStale=!1}},peek:function(){var e=this[wo];return(e.isStale&&!e.dependenciesCount||e.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),e.latestValue},limit:function(e){Ke.fn.limit.call(this,e),this._evalDelayed=function(){this._limitBeforeChange(this[wo].latestValue),this[wo].isStale=!0,this._limitChange(this)}},dispose:function(){var e=this[wo];!e.isSleeping&&e.dependencyTracking&&v(e.dependencyTracking,function(e,n){n.dispose&&n.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&K(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=null,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=null,e.readFunction=null,It.debug&&(this._options=null)}};var Oo={beforeSubscriptionAdd:function(n){var t=this,o=t[wo];if(!o.isDisposed&&o.isSleeping&&'change'==n){if(o.isSleeping=!1,o.isStale||t.haveDependenciesChanged())o.dependencyTracking=null,o.dependenciesCount=0,o.isStale=!0,t.evaluateImmediate();else{var i=[];v(o.dependencyTracking,function(e,n){i[n._order]=e}),e(i,function(e,n){var i=o.dependencyTracking[e],a=t.subscribeToDependency(i._target);a._order=n,a._version=i._version,o.dependencyTracking[e]=a})}o.isDisposed||t.notifySubscribers(o.latestValue,'awake')}},afterSubscriptionRemove:function(e){var n=this[wo];n.isDisposed||'change'!=e||this.hasSubscriptionsForEvent('change')||(v(n.dependencyTracking,function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),n.isSleeping=!0,this.notifySubscribers(void 0,'asleep'))},getVersion:function(){var e=this[wo];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),Ke.fn.getVersion.call(this)}},Ao={beforeSubscriptionAdd:function(e){('change'==e||'beforeChange'==e)&&this.peek()}};Vt&&E(mn.fn,Ke.fn);var Bo=en.protoProperty;mn[Bo]=en,mn.fn[Bo]=mn,vo.throttle=function(e,n){e.throttleEvaluation=n;var t=null;return mn({read:e,write:function(o){clearTimeout(t),t=setTimeout(function(){e(o)},n)}})};const Po={"@":function(e,n){for(;'function'==typeof n;)n=n();return n},"#":(e,n)=>()=>on(n),"=>":bn,"!":function(e,n){return!n},"!!":function(e,n){return!!n},"++":function(e,n){return++n},"--":function(e,n){return--n},"*":function(e,n){return e*n},"/":function(e,n){return e/n},"%":function(e,n){return e%n},"+":function(e,n){return e+n},"-":function(e,n){return(e||0)-(n||0)},"&-":function(e,n){return-1*n},"<":function(e,n){return e<n},"<=":function(e,n){return e<=n},">":function(e,n){return e>n},">=":function(e,n){return e>=n},"==":function(e,n){return e===n},"!=":function(e,n){return e!==n},"===":function(e,n){return e===n},"!==":function(e,n){return e!==n},"&":function(e,n){return e&n},"^":function(e,n){return e^n},"|":function(e,n){return e|n},"&&":function(e,n){return e&&n},"||":function(e,n){return e||n},".":function(e,n){return e[n]},"[":function(e,n){return e[n]},call:function(e,n){return e.apply(null,n)}};Po['@'].precedence=21,Po['#'].precedence=21,Po['=>'].precedence=20,Po['.'].precedence=19,Po['['].precedence=19,Po['!'].precedence=16,Po['!!'].precedence=16,Po['++'].precedence=16,Po['--'].precedence=16,Po['&-'].precedence=16,Po['%'].precedence=14,Po['*'].precedence=14,Po['/'].precedence=14,Po['+'].precedence=13,Po['-'].precedence=13,Po['|'].precedence=12,Po['^'].precedence=11,Po['&'].precedence=10,Po['<'].precedence=11,Po['<='].precedence=11,Po['>'].precedence=11,Po['>='].precedence=11,Po['=='].precedence=10,Po['!='].precedence=10,Po['==='].precedence=10,Po['!=='].precedence=10,Po['&&'].precedence=6,Po['||'].precedence=5,Po['&&'].earlyOut=(e)=>!e,Po['||'].earlyOut=(e)=>e,Po.call.precedence=1;const Vo=Symbol('Node - Is Expression Or Identifier');class Ro{constructor(e,n,t){this.lhs=e,this.op=n,this.rhs=t}static get operators(){return Po}get_leaf_value(e,n,t,o){return'function'==typeof e?on(e()):'object'!=typeof e||null===e?e:e[Ro.isExpressionOrIdentifierSymbol]?on(e.get_value(void 0,n,t,o)):e}get_value(e,n,t,o){var o=this;if(o.op===bn)return()=>o.get_leaf_value(o.rhs,n,t,o);const i=o.get_leaf_value(o.lhs,n,t,o),a=o.op.earlyOut;if(a&&a(i))return i;const s=o.get_leaf_value(o.rhs,n,t,o);return o.op(i,s,n,t)}static get isExpressionOrIdentifierSymbol(){return Vo}get[Vo](){return!0}static value_of(e,n,t,o){return e&&e[Ro.isExpressionOrIdentifierSymbol]?e.get_value(e,n,t,o):e}static create_root(e){var n,t,o,i;for(t=n=new Ro(e.shift(),e.shift(),e.shift());o=e.shift(),i=e.shift(),!!o;)o.precedence<n.op.precedence?(n=new Ro(n,o,i),t=n):(t.rhs=new Ro(t.rhs,o,i),t=t.rhs);return n}}Po['?']=function(e,n,t,o,i){return Ro.value_of(e?n.yes:n.no,t,o,i)},Po['?'].precedence=4;class $o{constructor(e){this.nodes=e,this.root=Ro.create_root(e)}get_value(e,n,t,o){return this.root||(this.root=Ro.create_root(this.nodes)),this.root.get_value(e,n,t,o)}}$o.prototype[Ro.isExpressionOrIdentifierSymbol]=!0;class Lo{constructor(e,n){this.parser=e,this.args=n}get_value(e,n,t,o){for(var a=[],s=0,i=this.args.length;s<i;++s)a.push(Ro.value_of(this.args[s],n,t,o));return a}get[Ro.isExpressionOrIdentifierSymbol](){return!0}}var Fo=/[\$A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,Mo=/[\$0-9A-Z_a-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;class jo{constructor(e,n,t){this.token=n,this.dereferences=t,this.parser=e}dereference(e,t,o,a){let s,d=this.dereferences||[];const r=t.$data||{};let l,p,i;for(p=0,i=d.length;p<i;++p)s=Ro.value_of(d[p],t,o,a),'function'==typeof e&&d[p]instanceof Lo?(e=e.apply(l||r,s),l=e):(l=e,e=Ro.value_of(e[s],t,o,a));return'function'==typeof e&&0<i&&l!==e&&!l.hasOwnProperty(s)?e.bind(l):e}get_value(e,n,t,o){const i=e&&!(e instanceof jo)?Ro.value_of(e,n,t,o)[this.token]:n.lookup(this.token,t,o);return this.dereference(i,n,t,o)}assign(e,n,t){sn(e[n])?e[n](t):!tn(e[n])&&(e[n]=t)}set_value(e,t,o){const a=t.$data||{},s=this.dereferences||[];let d,i,n,r=this.token;if(Object.hasOwnProperty.call(a,r))n=a;else if(Object.hasOwnProperty.call(t,r))n=t;else if(Object.hasOwnProperty.call(o,r))n=o;else throw new Error('Identifier::set_value -- The property \''+r+'\' does not exist on the $data, $context, or globals.');if(i=s.length,0===i)return void this.assign(n,r,e);for(n=n[r],d=0;d<i-1;++d)r=s[d],n=r instanceof Lo?n():n[Ro.value_of(r)];if(!0===s[d])throw new Error('Cannot assign a value to a function.');s[d]&&this.assign(n,Ro.value_of(s[d]),e)}static is_valid_start_char(e){return Fo.test(e)}static is_valid_continue_char(e){return Mo.test(e)}get[Ro.isExpressionOrIdentifierSymbol](){return!0}}class Wo{constructor(e,n){Object.assign(this,{yes:e,no:n})}get_value(){return this}get[Ro.isExpressionOrIdentifierSymbol](){return!0}}const Ho={"'":'\'','"':'"',"`":'`',"\\":'\\',"/":'/',$:'$',b:'\b',f:'\f',n:'\n',r:'\r',t:'\t'};class Uo{white(){for(var e=this.ch;e&&' '>=e;)e=this.next();return this.comment(e)}comment(e){if('/'!==e)return e;var n=this.at,t=this.lookahead();if('/'===t){for(;e&&(e=this.next(),'\n'!==e&&'\r'!==e););e=this.next()}else if('*'===t){for(;e;)if(e=this.next(),'*'===e&&'/'===this.lookahead()){this.next();break}return e||this.error('Unclosed comment, starting at character '+n),this.next(),this.white()}return e}next(e){return e&&e!==this.ch&&this.error('Expected \''+e+'\' but got \''+this.ch+'\''),this.ch=this.text.charAt(this.at),this.at+=1,this.ch}lookahead(){return this.text[this.at]}error(e){if(e instanceof Error)throw e;let[n,t]=e.name?[e.name,e.message]:[e,''];const o=`\n${n} ${t} of
    ${this.text}\n`+Array(this.at).join(' ')+'_/ \uD83D\uDD25 \\_\n';throw new Error(o)}name(){var e,n='';this.white();var t=this.ch;for(('\''===t||'"'===t)&&(e=t,t=this.next());t;){if(e&&t===e)return this.white(),t=this.next(),':'!==t&&','!==t&&this.error('Object name: '+n+' missing closing '+e),n;if(':'===t||' '>=t||','===t||'|'===t)return n;n+=t,t=this.next()}return n}number(){let e,n='',t=this.ch;for('-'===t&&(n='-',t=this.next('-'));'0'<=t&&'9'>=t;)n+=t,t=this.next();if('.'===t)for(n+='.',t=this.next();t&&'0'<=t&&'9'>=t;)n+=t,t=this.next();if('e'===t||'E'===t)for(n+=t,t=this.next(),('-'===t||'+'===t)&&(n+=t,t=this.next());'0'<=t&&'9'>=t;)n+=t,t=this.next();return e=+n,isFinite(e)?e:void It.onError(new Error('Bad number: '+e+' in '+n))}objectAddValue(e,n,t){t&&t[Ro.isExpressionOrIdentifierSymbol]?Object.defineProperty(e,n,{get:()=>Ro.value_of(t,...this.currentContextGlobals),enumerable:!0}):Array.isArray(t)?Object.defineProperty(e,n,{get:()=>t.map((e)=>Ro.value_of(e,...this.currentContextGlobals)),enumerable:!0}):e[n]=t}object(){let e,n={},t=this.ch;if('{'===t){if(this.next('{'),t=this.white(),'}'===t)return t=this.next('}'),n;for(;t;){if(e='"'===t||'\''===t||'`'===t?this.string():this.name(),this.white(),t=this.next(':'),Object.hasOwnProperty.call(n,e)&&this.error('Duplicate key "'+e+'"'),this.objectAddValue(n,e,this.expression()),t=this.white(),'}'===t)return t=this.next('}'),n;this.next(','),t=this.white()}}this.error('Bad object')}readString(e){for(let n,t,o,i='',a=[''],s=Po['+'],d='`'===e,r=this.next();r;){if(r===e)return r=this.next(),d&&a.push(s),a.push(i),a;if('\\'!==r)d&&'$'===r?(r=this.next(),'{'===r?(this.next('{'),a.push(s),a.push(i),a.push(s),a.push(this.expression()),i=''):i+='$'+r):i+=r;else if(r=this.next(),'u'===r){for(o=0,t=0;4>t&&(n=parseInt(r=this.next(),16),!!isFinite(n));t+=1)o=16*o+n;i+=String.fromCharCode(o)}else if('string'==typeof Ho[r])i+=Ho[r];else break;r=this.next()}this.error('Bad string')}string(){var e=this.ch;return'"'===e?this.readString('"').join(''):'\''===e?this.readString('\'').join(''):'`'===e?Ro.create_root(this.readString('`')):void this.error('Bad string')}array(){let e=[],n=this.ch;if('['===n){if(n=this.next('['),this.white(),']'===n)return n=this.next(']'),e;for(;n;){if(e.push(this.expression()),n=this.white(),']'===n)return n=this.next(']'),e;this.next(','),n=this.white()}}this.error('Bad array')}value(){var e;return this.white(),e=this.ch,'{'===e?this.object():'['===e?this.array():'"'===e||'\''===e||'`'===e?this.string():'-'===e?this.number():'0'<=e&&'9'>=e?this.number():this.identifier()}operator(e){let n,t='',o=this.white(),i=jo.is_valid_start_char;for(;o&&!(i(o)||' '>=o||''===o||'"'===o||'\''===o||'{'===o||'('===o||'`'===o||')'===o||'9'>=o&&'0'<=o)&&(e.not_an_array||'['!==o)&&(t+=o,o=this.next(),'@'!==o);)i=jo.is_valid_continue_char;return''!==t&&(e.prefix&&'-'===t&&(t='&-'),n=Po[t],!n&&this.error('Bad operator: \''+t+'\'.')),n}filter(){let e=this.next(),n=[],t=function(e){return e},o=this.name();for(It.filters[o]||It.onError('Cannot find filter by the name of: '+o),e=this.white();e;){if(':'===e&&(e=this.next(),n.push(this.expression('|'))),'|'===e){t=this.filter();break}if(','===e)break;e=this.white()}var i=function(e,a,s,d,r){for(var l=[e],p=0,i=n.length;p<i;++p)l.push(Ro.value_of(n[p],s,d,r));return t(It.filters[o].apply(null,l))};return i.precedence=1,i}expression(e){let n,t=[],o=this.white();for(;o&&(n=this.operator({prefix:!0}),n&&(t.push(void 0),t.push(n),o=this.white()),'('===o?(this.next(),t.push(this.expression()),this.next(')')):t.push(this.value()),o=this.white(),':'!==o&&'}'!==o&&','!==o&&']'!==o&&')'!==o&&''!==o&&'`'!==o&&('|'!==o||'|'!==e));){if('|'===o&&'|'!==this.lookahead()&&e){t.push(this.filter()),t.push(void 0);break}if(n=this.operator({not_an_array:!0}),n===Po['?']){this.ternary(t);break}else n===Po['.']?(t.push(n),t.push(this.member()),n=null):n===Po['[']?(t.push(n),t.push(this.expression()),o=this.next(']'),n=null):n&&t.push(n);if(o=this.white(),']'===o||!n&&'('===o)break}if(0!==t.length){var a=this.dereferences();if(1===t.length&&!a.length)return t[0];for(var s,d=0,i=a.length;d<i;++d)s=a[d],s.constructor===Lo?t.push(Po.call):t.push(Po['.']),t.push(s);return new $o(t)}}ternary(e){var n=new Wo;n.yes=this.expression(),this.next(':'),n.no=this.expression(),e.push(Po['?']),e.push(n)}funcArguments(){for(let e=[],n=this.next('(');n;){if(n=this.white(),')'===n)return this.next(')'),new Lo(this,e);e.push(this.expression()),n=this.white(),')'!==n&&this.next(',')}this.error('Bad arguments to function')}member(){let e='',n=this.white(),t=jo.is_valid_start_char;for(;n&&!!t(n);)e+=n,n=this.next(),t=jo.is_valid_continue_char;return e}dereference(){for(let e,n=this.white();n;){if('('===n)return this.funcArguments();if('['===n)return this.next('['),e=this.expression(),this.white(),this.next(']'),e;if('.'===n)return this.next('.'),this.member();break}}dereferences(){let e,n=this.white(),t=[];for(;n&&(e=this.dereference(),void 0!==e);)t.push(e);return t}identifier(){let e='',n=jo.is_valid_start_char,t=this.white();for(;t&&!!n(t);)e+=t,t=this.next(),n=jo.is_valid_continue_char;switch(e){case'true':return!0;case'false':return!1;case'null':return null;case'undefined':return;case'function':throw new Error('Knockout: Anonymous functions are no longer supported, but `=>` lambas are.');}return new jo(this,e,this.dereferences())}readBindings(){let e,n,t,o={},i=this.ch;for(;i;)e=this.name(),n=this.white(),n&&','!==n?(-1===e.indexOf('.')?(i=this.next(':'),o[e]&&'object'==typeof o[e]&&o[e].constructor===Object?(t=this.expression(!0),'object'!=typeof t||t.constructor!==Object?It.onError('Expected plain object for '+e+' value.'):y(o[e],t)):o[e]=this.expression(!0)):(e=e.split('.'),o[e[0]]=o[e[0]]||{},2===e.length?o[e[0]].constructor!==Object&&It.onError('Binding '+e[0]+'.'+e[1]+' paired with a non-object.'):It.onError('Binding '+e+' should have two parts (a.b).'),i=this.next(':'),this.objectAddValue(o[e[0]],e[1],this.expression(!0))),this.white(),i=this.ch?this.next(','):''):(i=n?this.next(','):'',o[e]=null);return o}valueAsAccessor(e,n,t,o){if(!e)return()=>e;if('function'==typeof e)return e;if(e[Ro.isExpressionOrIdentifierSymbol])return()=>Ro.value_of(e,n,t,o);if(Array.isArray(e))return()=>e.map((e)=>Ro.value_of(e,n,t,o));if('function'!=typeof e)return()=>C(e);throw new Error('Value has cannot be converted to accessor: '+e)}convertToAccessors(e,n,t,o){return v(e,(i,a)=>{a instanceof jo?Object.defineProperty(e,i,{value:function(e,i){const s=a.get_value(void 0,n,t,o);if(0===arguments.length)return s;return i&&i.onlyIfChanged&&e===s?void 0:a.set_value(e,n,t)}}):e[i]=this.valueAsAccessor(a,n,t,o)}),e}runParse(e,n){this.text=(e||'').trim(),this.at=0,this.ch=' ';try{var t=n();return this.white(),this.ch&&this.error('Syntax Error'),t}catch(n){It.onError(n)}}parse(e,n={},t={},o){if(!e)return()=>null;this.currentContextGlobals=[n,t,o];const i=this.runParse(e,()=>this.readBindings());return this.convertToAccessors(i,n,t,o)}parseExpression(e,n={},t={},o){if(!e)return()=>'';this.currentContextGlobals=[n,t,o];const i=this.runParse(e,()=>this.expression(!0));return this.valueAsAccessor(i,n,t,o)}}var Ko=',"\'{}()/:[\\]',Qo=/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\/(?:[^\/\\]|\\.)*\/w*|[^\s:,\/][^,"'{}()\/:[\]]*[^\s,"'{}()\/:[\]]|[^\s]/g,qo=/[\])"'A-Za-z0-9_$]+$/,zo={in:1,return:1,typeof:1};class Go{set(e,n){'string'==typeof e?this[e]=n:'object'==typeof e?(void 0!==n&&It.onError(new Error('Given extraneous `value` parameter (first param should be a string, but it was an object).'+e)),Object.assign(this,e)):It.onError(new Error('Given a bad binding handler type: '+e))}get(e){const[n]=e.split('.');return this[n]}}class Jo{constructor(e={}){if(this.constructor===Jo)throw new Error('Provider is an abstract base class.');if(!('FOR_NODE_TYPES'in this))throw new Error('Providers must have FOR_NODE_TYPES property');this.bindingHandlers=e.bindingHandlers||new Go,this.globals=e.globals||{}}nodeHasBindings(){}getBindingAccessors(){}preprocessNode(){}postProcess(){}}class Yo extends Jo{*processBinding(e,n){const[t,o]=e.split('.'),i=this.bindingHandlers.get(t);if(i&&i.preprocess){const t=[];n=i.preprocess(n,e,(...e)=>t.push(e));for(const[e,n]of t)yield*this.processBinding(e,n)}else o&&(n=`{${o}:${n}}`);yield`${t}:${n}`}*generateBindingString(e){for(const{key:n,unknown:t,value:o}of yn(e))yield*this.processBinding(n||t,o)}preProcessBindings(e){return Array.from(this.generateBindingString(e)).join(',')}getBindingAccessors(e,n){const t=e&&this.getBindingString(e);if(t){const o=this.preProcessBindings(t);return new Uo().parse(o,n,this.globals,e)}}getBindingString(){throw new Error('Overload getBindingString.')}}class Xo extends Yo{get FOR_NODE_TYPES(){return[8]}getBindingString(e){if(e.nodeType===document.COMMENT_NODE)return he(e)}nodeHasBindings(e){if(e.nodeType===document.COMMENT_NODE)return te(e)}}class Zo extends Yo{get FOR_NODE_TYPES(){return[1]}get BIND_ATTRIBUTE(){return'data-bind'}getBindingString(e){if(e.nodeType===document.ELEMENT_NODE)return e.getAttribute(this.BIND_ATTRIBUTE)}nodeHasBindings(e){if(e.nodeType===document.ELEMENT_NODE)return e.hasAttribute(this.BIND_ATTRIBUTE)}}var ei={},ni={},ti={get(e,n){var t=N(ni,e);t?t.isSynchronousComponent?Ye(function(){n(t.definition)}):Me(function(){n(t.definition)}):vn(e,n)},clearCachedDefinition(e){delete ni[e]},_getFirstResultFromLoaders:Nn,loaders:[]};const oi=I('LifeCycle Subscriptions List'),ii=I('LifeCycle Anchor Node');class ai{static mixInto(e){const n=e.prototype||e,t=ai.prototype;for(let o of Object.getOwnPropertyNames(t))n[o]=t[o]}subscribe(e,n){'string'==typeof n&&(n=this[n].bind(this)),this.addDisposable(e.subscribe(n))}computed(e){if('string'==typeof e)e={read:this[e],write:this[e],owner:this};else if('object'==typeof e);else if('function'==typeof e)e={read:e,write:e};else throw new Error('LifeCycle::computed not given a valid type.');return e.disposeWhenNodeIsRemoved=this[ii],this.addDisposable(mn(e))}addEventListener(...e){const n=e[0].nodeType?e.shift():this[ii],[t,o,i]=e,a='string'==typeof o?this[o].bind(this):o;this.__addEventListener(n,t,a,i)}__addEventListener(e,n,t,o){function i(){e.removeEventListener(n,t)}e.addEventListener(n,t,o),U(e,i),this.addDisposable({dispose:i})}anchorTo(e){U(e,()=>this.dispose()),this[ii]=e}dispose(){const e=this[oi]||[];e.forEach((e)=>e.dispose()),this[oi]=[],this[ii]=null}addDisposable(e){const n=this[oi]||[];if(this[oi]||(this[oi]=n),'function'!=typeof e.dispose)throw new Error('Lifecycle::addDisposable argument missing `dispose`.');return n.push(e),e}}var si={},di={getConfig:function(e,n){var t=si.hasOwnProperty(e)?si[e]:null;n(t)},loadComponent:function(e,n,t){var o=kn(e);In(o,n,function(n){Dn(e,o,n,t)})},loadTemplate:function(e,n,t){Sn(kn(e),n,t)},loadViewModel:function(e,n,t){_n(kn(e),n,t)}},ri='createViewModel';ti.loaders.push(di);class li extends ai{static get elementName(){throw new Error('[ComponentABC] `elementName` must be overloaded.')}static get template(){return{element:this.element}}static get element(){throw new Error('[ComponentABC] `element` must be overloaded.')}static get sync(){return!0}static register(e=this.elementName){const n=this,{template:t}=this,o=this.sync;Cn(e,{viewModel:n,template:t,synchronous:o})}}var pi={ComponentABC:li,get:ti.get,clearCachedDefinition:ti.clearCachedDefinition,register:Cn,isRegistered:En,unregister:function(e){delete si[e],ti.clearCachedDefinition(e)},defaultLoader:di,_allRegisteredComponents:si,get loaders(){return ti.loaders},set loaders(e){ti.loaders=e}};class ui extends Jo{get FOR_NODE_TYPES(){return[1]}nodeHasBindings(e){return!!this.getComponentNameForNode(e)}getBindingAccessors(e,n){const t=this.getComponentNameForNode(e);if(t){return{component:()=>({name:t,params:this.getComponentParams(e,n)})}}}getComponentNameForNode(e){if(e.nodeType===e.ELEMENT_NODE){const n=V(e);if(pi.isRegistered(n)){const t=n.includes('-');if(t||'[object HTMLUnknownElement]'+e)return n}}}getComponentParams(e,n){const t=new Uo(e,n,this.globals),o=(e.getAttribute('params')||'').trim(),i=t.parse(o,n,e);if(!i||0===Object.keys(i).length)return{$raw:{}};const a=x(i,(n)=>mn(n,null,{disposeWhenNodeIsRemoved:e})),s=x(a,(n)=>this.makeParamValue(e,n));return Object.assign({$raw:a},s)}makeParamValue(e,n){const t=n.peek();if(!n.isActive())return t;const o=sn(t);return mn({read:()=>on(n()),write:o?(e)=>n()(e):null,disposeWhenNodeIsRemoved:e})}}class ci extends Jo{get FOR_NODE_TYPES(){return[1]}get PREFIX(){return'ko-'}getBindingAttributesList(e){return e.hasAttributes()?Array.from(e.attributes).filter((e)=>e.name.startsWith(this.PREFIX)):[]}nodeHasBindings(e){return 0<this.getBindingAttributesList(e).length}getBindingAccessors(e,n){return Object.assign({},...this.handlersFromAttributes(e,n))}*handlersFromAttributes(e,n){for(const t of this.getBindingAttributesList(e)){const o=t.name.substr(this.PREFIX.length);yield{[o]:()=>this.getValue(t.value,n,e)}}}getValue(e,n,t){if(e){const o=n.$data;switch(e){case'$element':return t;case'$context':return n;case'this':case'$data':return n.$data;}if(o instanceof Object&&e in o)return o[e];if(e in n)return n[e];if(e in this.globals)return this.globals[e];throw new Error(`The variable '${e} not found.`)}}}class mi extends Jo{get FOR_NODE_TYPES(){return this.nodeTypes}constructor(e={}){super(e);const n=e.providers||[];this.nodeTypeMap={},this.nodeTypes=[],this.providers=[],n.forEach((e)=>this.addProvider(e))}addProvider(e){this.providers.push(e),e.bindingHandlers=this.bindingHandlers,e.globals=this.globals;const n=this.nodeTypeMap;for(const t of e.FOR_NODE_TYPES)n[t]||(n[t]=[]),n[t].push(e);this.nodeTypes=Object.keys(this.nodeTypeMap).map((e)=>parseInt(e,10))}providersFor(e){return this.nodeTypeMap[e.nodeType]||[]}nodeHasBindings(e){return this.providersFor(e).some((n)=>n.nodeHasBindings(e))}preprocessNode(e){for(const n of this.providersFor(e)){const t=n.preprocessNode(e);if(t)return t}}*enumerateProviderBindings(e,n){for(const t of this.providersFor(e)){const o=t.getBindingAccessors(e,n)||{};for(const[e,n]of Object.entries(o||{}))yield[e,n]}}getBindingAccessors(e,n){e=this.preprocessNode(e)||e;const t={};for(const[o,i]of this.enumerateProviderBindings(e,n)){if(o in t)throw new Error(`The binding "${o}" is duplicated by multiple providers`);t[o]=i}return t}}const gi=/^([\s\S]*)}}([\s\S]*?)\{\{([\s\S]*)$/,hi=/^([\s\S]*?)\{\{([\s\S]*)}}([\s\S]*)$/,fi=/^([^,"'{}()/:[\]\s]+)\s+([^\s:].*)/;class bi{constructor(e){this.text=e}trim(e){return null===e?'':e.trim()}}class yi extends bi{asAttr(e,n,t){return new Uo().parseExpression(this.text,e,n,t)()}*textNodeReplacement(e){const n=this.trim(this.text),t=e?e.ownerDocument:document,o=n[0],i=n[n.length-1];var a,s=!0;if('#'===o){'/'===i?a=n.slice(1,-1):(a=n.slice(1),s=!1);const e=a.match(fi);e&&(a=e[1]+':'+e[2])}else if('/'===o);else a='{'===o&&'}'===i?'html:'+this.trim(n.slice(1,-1)):'text:'+this.trim(n);a&&(yield t.createComment('ko '+a)),s&&(yield t.createComment('/ko'))}}class vi extends bi{asAttr(){return this.text}*textNodeReplacement(){yield document.createTextNode(this.text.replace(/"/g,'\\"'))}}const xi={value:'value',checked:'checked',class:'css'};class Ni extends Jo{get FOR_NODE_TYPES(){return[1]}constructor(e={}){super(e),this.ATTRIBUTES_TO_SKIP=new Set(e.attributesToSkip||['data-bind']),this.ATTRIBUTES_BINDING_MAP=e.attributesBindingMap||xi}*attributesToInterpolate(e){for(const n of Array.from(e))this.ATTRIBUTES_TO_SKIP.has(n.name)||n.specified&&n.value.includes('{{')&&(yield n)}nodeHasBindings(e){return!this.attributesToInterpolate(e.attributes).next().done}partsTogether(e,n,t,...o){if(1<e.length)return e.map((e)=>on(e.asAttr(n,this.globals,t))).join('');const i=e[0].asAttr(n,this.globals);return o.length&&i(o[0]),i}attributeBinding(e,n){return[e,n]}*bindingParts(e){for(const n of this.attributesToInterpolate(e.attributes)){const e=Array.from(An(n.value));e.length&&(yield this.attributeBinding(n.name,e))}}getPossibleDirectBinding(e){const n=this.ATTRIBUTES_BINDING_MAP[e];return n&&this.bindingHandlers.get(e)}*bindingObjects(e,n){for(const[t,o]of this.bindingParts(e,n)){const i=this.getPossibleDirectBinding(t),a=i?t:`attr.${t}`,s=i?(...t)=>this.partsTogether(o,n,e,...t):(...i)=>({[t]:this.partsTogether(o,n,e,...i)});e.removeAttribute(t),yield{[a]:s}}}getBindingAccessors(e,n){return Object.assign({},...this.bindingObjects(e,n))}}class Ci extends Jo{get FOR_NODE_TYPES(){return[3]}*textToNodes(e){const n=e.parentNode,t=n&&'TEXTAREA'===n.nodeName,o=e.nodeValue&&e.nodeValue.includes('{{');if(o&&!t)for(const n of An(e.nodeValue))yield*n.textNodeReplacement(e)}textInterpolation(e){const t=Array.from(this.textToNodes(e));if(0!==t.length){if(e.parentNode){const o=e.parentNode,a=t.length;for(let n=0;n<a;++n)o.insertBefore(t[n],e);o.removeChild(e)}return t}}preprocessNode(e){return this.textInterpolation(e)}}var Ei=F();Bn.prototype.lookup=function(e,n,t){switch(e){case'$element':return t;case'$context':return this;case'this':case'$data':return this.$data;}const o=this.$data;if(o instanceof Object&&e in o)return o[e];if(e in this)return this[e];if(e in n)return n[e];throw new Error(`The variable "${e}" was not found on $data, $context, or globals.`)},Bn.prototype.createChildContext=function(e,n,t,o){return new Bn(e,this,n,function(e,n){e.$parentContext=n,e.$parent=n.$data,e.$parents=(n.$parents||[]).slice(0),e.$parents.unshift(e.$parent),t&&t(e)},o)},Bn.prototype.extend=function(e){return new Bn(this._subscribable||this.$data,this,null,function(n,t){n.$rawData=t.$rawData,y(n,'function'==typeof e?e():e)})},Bn.prototype.createStaticChildContext=function(e,n){return this.createChildContext(e,n,null,{exportDependencies:!0})};class Di extends ai{constructor(e){super();const{$element:n,valueAccessor:t,allBindings:o,$context:i}=e;Object.assign(this,{valueAccessor:t,allBindings:o,$element:n,$context:i,$data:i.$data}),this.anchorTo(n)}get value(){return this.valueAccessor()}set value(e){return this.valueAccessor(e)}get controlsDescendants(){return!1}static get allowVirtualElements(){return!1}static get isBindingHandlerClass(){return!0}get bindingCompleted(){return!0}static registerAs(e,n=It.bindingProviderInstance){n.bindingHandlers.set(e,this)}}class Si extends Di{constructor(e){super(e),this.bindingCompletion=new It.Promise((e)=>{this.completeBinding=e})}get bindingCompleted(){return this.bindingCompletion}}const _i=It.global.WeakMap||Map,Ti=new _i;class Ii extends Di{constructor(n){super(n);const e=this.handler;'function'==typeof e.dispose&&this.addDisposable(e);try{this.initReturn=e.init&&e.init(...this.legacyArgs)}catch(t){n.onError('init',t)}'function'==typeof e.update&&this.computed(()=>{try{e.update(...this.legacyArgs)}catch(t){n.onError('update',t)}})}get legacyArgs(){return[this.$element,this.valueAccessor,this.allBindings,this.$data,this.$context]}get controlsDescendants(){const e=this.initReturn||this.handler||{};return e.controlsDescendantBindings}static getOrCreateFor(e,n){if(Ti.has(n))return Ti.get(n);const t=this.createFor(e,n);return Ti.set(n,t),t}static createFor(e,n){if('function'==typeof n){const[t,o]=[n,n.dispose];return class extends Ii{get handler(){const e=t.bind(this),n=o?o.bind(this):null;return{init:e,dispose:n}}static get after(){return n.after}static get allowVirtualElements(){return n.allowVirtualElements||no[e]}}}if('object'==typeof n)return class extends Ii{get handler(){return n}static get after(){return n.after}static get allowVirtualElements(){return n.allowVirtualElements||no[e]}};throw new Error('The given handler is not an appropriate type.')}}var ki={script:!0,textarea:!0,template:!0},wi=F(),Oi=F(),Ai=F(),Bi={init:function(e,n,t,o,i){var a=n()||{};v(a,function(a){'string'==typeof a&&J(e,a,function(e){var s,d=n()[a];if(d){try{var r=l(arguments);o=i.$data,r.unshift(o),s=d.apply(o,r)}finally{!0!==s&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}var p=!1!==t.get(a+'Bubble');p||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},Pi={init:Bi.init,preprocess:function(e,n,t){t(n.replace('on.',''),'=>'+e)}},Vi=function(e){return{init:function(n,t,o,i,a){Bi.init.call(this,n,function(){var n={};return n[e]=t(),n},o,i,a)}}}('click'),Ri={aliases:['class'],update:function(e,n){var t=on(n());null!==t&&'object'==typeof t?v(t,function(n,t){t=on(t),k(e,n,t)}):(t=S((t||'')+''),k(e,e[Ri.classesWrittenByBindingKey],!1),e[Ri.classesWrittenByBindingKey]=t,k(e,t,!0))},classesWrittenByBindingKey:I('__ko__cssValue')},$i={update:function(e,n){var t=on(n());t&&e.disabled?e.removeAttribute('disabled'):!t&&!e.disabled&&(e.disabled=!0)}},Li=I('__ko_hasfocusUpdating'),Fi=I('__ko_hasfocusLastValue'),Mi={init:function(e,n){var t=function(t){e[Li]=!0;var o=e.ownerDocument;if('activeElement'in o){var i;try{i=o.activeElement}catch(n){i=o.body}t=i===e}n(t,{onlyIfChanged:!0}),e[Fi]=t,e[Li]=!1},o=t.bind(null,!0),i=t.bind(null,!1);J(e,'focus',o),J(e,'focusin',o),J(e,'blur',i),J(e,'focusout',i)},update:function(e,n){var t=!!on(n());e[Li]||e[Fi]===t||(t?e.focus():e.blur(),!t&&e[Fi]&&e.ownerDocument.body.focus(),Ye(Y,null,[e,t?'focusin':'focusout']))}},ji='__ko__hasDomDataOptionValue__',Wi={optionsValueDomDataKey:void 0,readValue:function(e){switch(V(e)){case'option':return!0===e[ji]?wt(e,Wi.optionValueDomDataKey):e.value;case'select':return 0<=e.selectedIndex?Wi.readValue(e.options[e.selectedIndex]):void 0;default:return e.value;}},writeValue:function(e,t,o){switch(V(e)){case'option':switch(typeof t){case'string':Ot(e,Wi.optionValueDomDataKey,void 0),ji in e&&delete e[ji],e.value=t;break;default:Ot(e,Wi.optionValueDomDataKey,t),e[ji]=!0,e.value='number'==typeof t?t:'';}break;case'select':(''===t||null===t)&&(t=void 0);for(var a,s=-1,d=0,i=e.options.length;d<i;++d)if(a=Wi.readValue(e.options[d]),a==t||''===a&&void 0===t){s=d;break}(o||0<=s||void 0===t&&1<e.size)&&(e.selectedIndex=s);break;default:(null===t||void 0===t)&&(t=''),e.value=t;}}},Hi={};Wi.optionValueDomDataKey=F();var Ui,Ki,Qi,qi,zi,Gi=It.global;if(Gi.navigator&&(Ui=function(e){if(e)return parseFloat(e[1])},Ki=fo.opera&&fo.opera.version&&parseInt(fo.opera.version()),Qi=fo.navigator.userAgent,qi=Ui(Qi.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),zi=Ui(Qi.match(/Firefox\/([^ ]*)/))),10>Bt)var Ji=F(),Yi=F(),Xi=function(e){var n=this.activeElement,t=n&&wt(n,Yi);t&&t(e)},Zi=function(e,n){var t=e.ownerDocument;wt(t,Ji)||(Ot(t,Ji,!0),J(t,'selectionchange',Xi)),Ot(e,Yi,n)};var ea={aliases:'textinput',init:function(n,t){var o,i,a=n.value,s=function(e){clearTimeout(o),i=o=void 0;var s=n.value;a!==s&&(It.debug&&e&&(n._ko_textInputProcessedEvent=e.type),a=s,t(s))},d=function(e){if(!o){i=n.value;var t=It.debug?s.bind(n,{type:e.type}):s;o=h(t,4)}},r=9===Bt?d:s,l=function(){var e=on(t());return(null===e||void 0===e)&&(e=''),void 0!==i&&e===i?void h(l,4):void(n.value!==e&&(a=e,n.value=e))},p=function(e,t){J(n,e,t)};It.debug&&ea._forceUpdateOn?e(ea._forceUpdateOn,function(e){'after'==e.slice(0,5)?p(e.slice(5),d):p(e,s)}):10>Bt?(p('propertychange',function(e){'value'===e.propertyName&&r(e)}),8==Bt&&(p('keyup',s),p('keydown',s)),8<=Bt&&(Zi(n,r),p('dragend',d))):(p('input',s),5>qi&&'textarea'===V(n)?(p('keydown',d),p('paste',d),p('cut',d)):11>Ki?p('keydown',d):4>zi&&(p('DOMAutoComplete',s),p('dragdrop',s),p('drop',s))),p('change',s),mn(l,null,{disposeWhenNodeIsRemoved:n})}},na={init:function(e,n){if(n()){var t='ko_unique_'+ ++na.currentIndex;Ne(e,t)}},currentIndex:0},ta={update:function(e,n){var t=on(n()),o='none'!=e.style.display;t&&!o?e.style.display='':!t&&o&&(e.style.display='none')}},oa=1,ia=2,aa=3,sa=4;tt.prototype.text=function(){var e=this.templateType===oa?'text':this.templateType===ia?'value':'innerHTML';if(0==arguments.length)return this.domElement[e];var n=arguments[0];'innerHTML'==e?ke(this.domElement,n):this.domElement[e]=n};var da=F()+'_';tt.prototype.data=function(e){return 1===arguments.length?wt(this.domElement,da+e):void Ot(this.domElement,da+e,arguments[1])};var ra=F();tt.prototype.nodes=function(){var e=this.domElement;if(0==arguments.length){var n=ot(e),t=n.containerData;return t||(this.templateType===aa?e.content:this.templateType===sa?e:void 0)}var o=arguments[0];it(e,{containerData:o})},at.prototype=new tt,at.prototype.constructor=at,at.prototype.text=function(){if(0==arguments.length){var e=ot(this.domElement);return void 0===e.textData&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var n=arguments[0];it(this.domElement,{textData:n})},y(st.prototype,{renderTemplateSource:function(e,n,t){t.onError('Override renderTemplateSource')},createJavaScriptEvaluatorBlock:function(){It.onError('Override createJavaScriptEvaluatorBlock')},makeTemplateSource:function(e,n){if('string'==typeof e){n=n||document;var t=n.getElementById(e);return t||It.onError('Cannot find template with ID '+e),new tt(t)}return 1==e.nodeType||8==e.nodeType?new at(e):void It.onError('Unknown template type: '+e)},renderTemplate:function(e,n,t,o){var i=this.makeTemplateSource(e,o);return this.renderTemplateSource(i,n,t,o)}});var la;let pa=F();class ua extends Si{constructor(e){super(e);const n=this.$element,t=on(this.value);let o;if(Ot(n,'conditional',{elseChainSatisfied:en(!0)}),'string'==typeof t||t.name)re(n);else if('nodes'in t){var i=t.nodes||[];if(tn(i))throw new Error('The "nodes" option must be a plain, non-observable array.');o=be(i),new at(n).nodes(o)}else{const e=de(n);o=be(e),new at(n).nodes(o)}this.computed(this.onValueChange.bind(this))}onValueChange(){const e=this.$element,n=this.$context;var t,o=this.value,i=on(o),a=!0,s=null,d=wt(e,'conditional').elseChainSatisfied;if('string'==typeof i?(t=o,i={}):(t=i.name,'if'in i&&(a=on(i.if)),a&&'ifnot'in i&&(a=!on(i.ifnot))),'foreach'in i){var r=a&&i.foreach||[];s=gt(t||e,r,i,e,n,this.completeBinding),d(0!==(on(r)||[]).length)}else if(a){var l='data'in i?n.createStaticChildContext(i.data,i.as):n;s=mt(t||e,l,i,e,void 0,this.completeBinding),d(!0)}else re(e),d(!1);this.disposeOldComputedAndStoreNewOne(e,s)}disposeOldComputedAndStoreNewOne(e,n){let t=wt(e,pa);t&&'function'==typeof t.dispose&&t.dispose(),Ot(e,pa,n&&n.isActive()?n:void 0)}get controlsDescendants(){return!0}static get allowVirtualElements(){return!0}}ht.prototype=new st,ht.prototype.constructor=ht,ht.prototype.renderTemplateSource=function(e,n,t,o){var i=!(9>Bt)?e.nodes:null,a=i?e.nodes():null;if(a)return l(a.cloneNode(!0).childNodes);var s=e.text();return Ie(s,o)},ht.instance=new ht,dt(ht.instance);class ca extends ua{get value(){const e=this.valueAccessor(),n=an(e);return n&&'number'!=typeof n.length?(on(e),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:ht.instance}):{foreach:e,templateEngine:ht.instance}}}class ma extends Si{constructor(e){super(e),this.hasElse=bt(this.$element);const n=this.completesElseChain=en();Ot(this.$element,'conditional',{elseChainSatisfied:n}),this.computed(this.render.bind(this))}get elseChainIsAlreadySatisfied(){return!1}get needsRefresh(){return this.isFirstRender||this.shouldDisplayIf!==this.didDisplayOnLastUpdate}get shouldDisplayIf(){return!!on(this.value)}getIfElseNodes(){return this.ifElseNodes?this.ifElseNodes:Xe()||this.hasElse?yt(this.$element,this.hasElse):void 0}render(){'function'==typeof this.value&&this.value();const e=!this.ifElseNodes;let n=this.shouldDisplayIf,t=this.needsRefresh;this.elseChainIsAlreadySatisfied?(n=!1,t=e||this.didDisplayOnLastUpdate,this.completesElseChain(!0)):this.completesElseChain(this.shouldDisplayIf),t&&(this.ifElseNodes=this.getIfElseNodes(),n?(!e||this.hasElse)&&le(this.$element,ye(this.ifElseNodes.ifNodes)):this.ifElseNodes?le(this.$element,ye(this.ifElseNodes.elseNodes)):re(this.$element),Yn(this.bindingContext,this.$element).then(this.completeBinding),this.didDisplayOnLastUpdate=n)}get bindingContext(){return this.$context}get controlsDescendants(){return!0}static get allowVirtualElements(){return!0}}class ga extends ma{get shouldDisplayIf(){return!super.shouldDisplayIf}}class ha extends ma{get shouldDisplayIf(){return super.shouldDisplayIf||void 0===this.value}get elseChainIsAlreadySatisfied(){return this._elseChain||(this._elseChain=this.readElseChain()),on(this._elseChain.elseChainSatisfied)}readElseChain(){let e=this.$element;do e=e.previousSibling;while(e&&1!==e.nodeType&&8!==e.nodeType);return!!e&&(8===e.nodeType&&(e=ge(e)),wt(e,'conditional')||{})}}class fa extends ma{get needsRefresh(){return!0}get bindingContext(){return this.$context.createStaticChildContext(this.value)}}const ba=It.document&&'function'==typeof It.document.createDocumentFragment,ya=I('_ko_ffe_pending_delete_index');class va extends Si{constructor(e){super(e);const n={};vt(this.value)&&Object.assign(n,this.value),this.noIndex=n.noIndex||this.allBindings.get('noIndex'),this.as=n.as||this.allBindings.get('as'),this.data=n.data||(on(this.$context.$rawData)===this.value?this.$context.$rawData:this.value),this.container=te(this.$element)?this.$element.parentNode:this.$element,this.generateContext=this.createContextGenerator(this.as,!this.noIndex),this.noIndex&&(this.updateIndexes=!1),this.templateNode=xt(n.templateNode||(n.name?document.getElementById(n.name).cloneNode(!0):this.$element)),['afterAdd','beforeRemove','afterQueueFlush','beforeQueueFlush'].forEach((e)=>{this[e]=n[e]||this.allBindings.get(e)}),this.changeQueue=[],this.firstLastNodesList=[],this.indexesToDelete=[],this.rendering_queued=!1,this.pendingDeletes=[],this.isNotEmpty=en(!!on(this.data).length),Ot(this.$element,'conditional',{elseChainSatisfied:this.isNotEmpty}),re(this.$element);const t=on(this.data);t.map?this.onArrayChange(t.map(Nt),!0):this.completeBinding(),tn(this.data)&&(!this.data.indexOf&&(this.data=this.data.extend({trackArrayChanges:!0})),this.changeSubs=this.data.subscribe(this.onArrayChange,this,'arrayChange'))}dispose(){this.changeSubs&&this.changeSubs.dispose(),this.flushPendingDeletes()}onArrayChange(e,n){for(var t={added:[],deleted:[]},o=0,i=e.length;o<i;o++){if(t.added.length&&'added'===e[o].status){var a=t.added[t.added.length-1],s=a.isBatch?a.index+a.values.length-1:a.index;if(s+1===e[o].index){a.isBatch||(a={isBatch:!0,status:'added',index:a.index,values:[a.value]},t.added.splice(t.added.length-1,1,a)),a.values.push(e[o].value);continue}}t[e[o].status].push(e[o])}0<t.deleted.length&&(this.changeQueue.push.apply(this.changeQueue,t.deleted),this.changeQueue.push({status:'clearDeletedIndexes'})),this.changeQueue.push.apply(this.changeQueue,t.added),0<this.changeQueue.length&&!this.rendering_queued&&(this.rendering_queued=!0,n?this.processQueue():va.animateFrame.call(window,()=>this.processQueue()))}startQueueFlush(){'function'==typeof this.beforeQueueFlush&&this.beforeQueueFlush(this.changeQueue)}endQueueFlush(){'function'==typeof this.afterQueueFlush&&this.afterQueueFlush(this.changeQueue)}processQueue(){var n=!on(this.data).length,t=9007199254740991;this.startQueueFlush(),e(this.changeQueue,(e)=>{'number'==typeof e.index&&(t=St(t,e.index)),this[e.status](e)}),this.flushPendingDeletes(),this.rendering_queued=!1,this.updateIndexes&&this.updateIndexes(t),this.endQueueFlush(),this.changeQueue=[],n!=!this.isNotEmpty()&&this.isNotEmpty(!n)}createContextGenerator(e,n){var t=this.$context;switch((e&&1)|(n&&2)){case 0:return function(e){return t.createChildContext(e,null,Ct.bind(this,!1))};case 1:return function(n){var o={$index:void 0,$list:this.data};return o[e]=n,t.extend(o)};case 2:return function(e){return t.createChildContext(e,null,Ct.bind(this,!0))};case 3:return function(n){var o={$index:en(),$list:this.data};return o[e]=n,t.extend(o)};}}added(e){var n=e.index,t=e.isBatch?e.values:[e.value],o=this.getLastNodeBeforeIndex(n);const a=[],s=[];for(var d,r,l=0,i=t.length;l<i;++l){if(r=this.getPendingDeleteFor(t[l]),r&&r.nodesets.length)d=r.nodesets.pop();else{var p=this.templateNode.cloneNode(!0);const e=Yn(this.generateContext(t[l]),p);s.push(e),d=de(p)}a.push.apply(a,Array.prototype.slice.call(d)),this.firstLastNodesList.splice(n+l,0,{first:d[0],last:d[d.length-1]})}'function'==typeof this.afterAdd?this.afterAdd({nodeOrArrayInserted:this.insertAllAfter(a,o),foreachInstance:this}):this.insertAllAfter(a,o),this.completeBinding(It.Promise.all(s))}getNodesForIndex(e){let n=[],t=this.firstLastNodesList[e].first,o=this.firstLastNodesList[e].last;for(n.push(t);t&&t!==o;)t=t.nextSibling,n.push(t);return n}getLastNodeBeforeIndex(e){return 1>e||e-1>=this.firstLastNodesList.length?null:this.firstLastNodesList[e-1].last}activeChildElement(e){var n=document.activeElement;if(A(n,e))return n}insertAllAfter(e,n){let t,o,a,i=null,s=this.$element;if(void 0===e.nodeType&&void 0===e.length)throw new Error('Expected a single node or a node array');if(void 0!==e.nodeType)return i=this.activeChildElement(e),ue(s,e,n),[e];if(1===e.length)i=this.activeChildElement(e[0]),ue(s,e[0],n);else if(ba){for(t=document.createDocumentFragment(),a=0,o=e.length;a!=o;++a)i=i||this.activeChildElement(e[a]),t.appendChild(e[a]);ue(s,t,n)}else for(a=e.length-1;0<=a;--a){i=i||this.activeChildElement(e[a]);var d=e[a];if(!d)break;ue(s,d,n)}return i&&i.focus(),e}shouldDelayDeletion(e){return e&&('object'==typeof e||'function'==typeof e)}getPendingDeleteFor(e){var n=e&&e[ya];return void 0===n?null:this.pendingDeletes[n]}getOrCreatePendingDeleteFor(e){var n=this.getPendingDeleteFor(e);return n?n:(n={data:e,nodesets:[]},e[ya]=this.pendingDeletes.length,this.pendingDeletes.push(n),n)}deleted(e){if(this.shouldDelayDeletion(e.value)){let n=this.getOrCreatePendingDeleteFor(e.value);n.nodesets.push(this.getNodesForIndex(e.index))}else this.removeNodes(this.getNodesForIndex(e.index));this.indexesToDelete.push(e.index)}removeNodes(e){function n(){for(var n=e[0].parentNode,t=e.length-1;0<=t;--t)Q(e[t]),n.removeChild(e[t])}if(e.length)if(this.beforeRemove){var t=this.beforeRemove({nodesToRemove:e,foreachInstance:this})||{};'function'==typeof t.then&&t.then(n,It.onError)}else n()}flushPendingDeletes(){for(let n=0,t=this.pendingDeletes.length;n!==t;++n){for(var e=this.pendingDeletes[n];e.nodesets.length;)this.removeNodes(e.nodesets.pop());e.data&&void 0!==e.data[ya]&&delete e.data[ya]}this.pendingDeletes=[]}clearDeletedIndexes(){for(let e=this.indexesToDelete.length-1;0<=e;--e)this.firstLastNodesList.splice(this.indexesToDelete[e],1);this.indexesToDelete=[]}updateIndexes(e){let n;for(let t=e,o=this.firstLastNodesList.length;t<o;++t)n=this.getContextStartingFrom(this.firstLastNodesList[t].first),n&&n.$index(t)}getContextStartingFrom(e){for(let n;e;){if(n=Vn(e),n)return n;e=e.nextSibling}}static setSync(e){const n=It.global;va.animateFrame=e?function(e){e()}:n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.msRequestAnimationFrame||function(e){return n.setTimeout(e,1e3/60)}}get controlsDescendants(){return!0}static get allowVirtualElements(){return!0}static get ForEach(){return this}static get PENDING_DELETE_INDEX_SYM(){return ya}}var xa={foreach:va};va.setSync(!1);var Na=String.prototype,Ca={};Ca.uppercase=function(e){return Na.toUpperCase.call(on(e))},Ca.lowercase=function(e){return Na.toLowerCase.call(on(e))},Ca['default']=function(e,n){return e=on(e),'function'==typeof e?e:'string'==typeof e?''===Na.trim.call(e)?n:e:null==e||0==e.length?n:e},Ca.replace=function(e,n,t){return Na.replace.call(on(e),n,t)},Ca.fit=function(e,n,t,o){if(e=on(e),n&&(''+e).length>n)switch(t=''+(t||'...'),n-=t.length,e=''+e,o){case'left':return t+e.slice(-n);case'middle':var i=Math.ceil(n/2);return e.substr(0,i)+t+e.slice(i-n);default:return e.substr(0,n)+t;}else return e},Ca.json=function(e,n,t){return JSON.stringify(ln(e),t,n)},Ca.number=function(e){return(+on(e)).toLocaleString()};var Ea=0;class Da extends Si{constructor(e){super(e),this.originalChildNodes=l(de(this.$element)),this.computed('computeApplyComponent')}cloneTemplateIntoElement(e,n,t){const o=n.template;if(!o)throw new Error('Component \''+e+'\' has no template');const i=ye(o);le(t,i)}createViewModel(e,n,t,o){const i=e.createViewModel;return i?i.call(e,o,{element:n,templateNodes:t}):o}computeApplyComponent(){const e=on(this.value);let n,t;if('string'==typeof e?n=e:(n=on(e.name),t=on(e.params)),this.latestComponentName=n,!n)throw new Error('No component name specified');this.loadingOperationId=this.currentLoadingOperationId=++Ea,pi.get(n,(e)=>this.applyComponentDefinition(n,t,e))}applyComponentDefinition(e,n,t){if(this.currentLoadingOperationId!==this.loadingOperationId||this.latestComponentName!==e)return;this.cleanUpState();const o=this.$element;if(!t)throw new Error('Unknown component \''+e+'\'');this.cloneTemplateIntoElement(e,t,o);const i=this.createViewModel(t,o,this.originalChildNodes,n);i instanceof ai&&i.anchorTo(this.$element);const a=this.$context.createChildContext(i,void 0,(e)=>Object.assign(e,{$component:i,$componentTemplateNodes:this.originalChildNodes}));this.currentViewModel=i,Yn(a,this.$element).then(this.completeBinding)}cleanUpState(){const e=this.currentViewModel,n=e&&e.dispose;'function'==typeof n&&n.call(e),this.currentViewModel=null,this.currentLoadingOperationId=null}dispose(){this.cleanUpState(),super.dispose()}get controlsDescendants(){return!0}static get allowVirtualElements(){return!0}}var Sa={};e(['extend','setTimeout','arrayForEach','arrayFirst','arrayFilter','arrayGetDistinctValues','arrayIndexOf','arrayMap','arrayPushAll','arrayRemoveItem','getFormFields','peekObservable','postJson','parseJson','registerEventHandler','stringifyJson','range','toggleDomNodeCssClass','triggerEvent','unwrapObservable','objectForEach','addOrRemoveItem','setTextContent','domData','parseHtmlFragment','setHtml','compareArrays','setDomNodeChildrenFromArrayMapping'],function(e){Sa[e]=bo[e]}),Sa.domNodeDisposal={addDisposeCallback:U,otherNodeCleanerFunctions:Qt,removeDisposeCallback:K,removeNode:q},y(Sa,{setDomNodeChildrenFromArrayMapping:nt,unwrapObservable:on,peekObservable:an});var _a=new mi({globals:It.bindingGlobals,providers:[new Ni,new Ci,new ui,new Zo,new Xo,new ci]});It.bindingProviderInstance=_a,_a.bindingHandlers.set({attr:{update:function(e,n){var t=on(n())||{};v(t,function(n,t){t=on(t);var o=n.indexOf(':'),i=0>o?null:e.lookupNamespaceURI(n.substr(0,o)),a=!1===t||null===t||void 0===t;a?e.removeAttributeNS(i,n):e.setAttributeNS(i,n,t.toString()),'name'===n&&Ne(e,a?'':t.toString())})}},checked:{after:['value','attr'],init:function(e,t,o){function i(){var n=e.checked,o=g?s():n;if(!Ze()&&(!l||n)){var i=Ye(t);if(u){var a=c?i.peek():i;m===o?r(a,o,n):(n&&(r(a,o,!0),r(a,m,!1)),m=o),c&&sn(i)&&i(a)}else t(o,{onlyIfChanged:!0})}}function a(){var o=on(t());e.checked=u?0<=n(o,s()):d?o:s()===o}var s=fn(function(){return o.has('checkedValue')?on(o.get('checkedValue')):o.has('value')?on(o.get('value')):e.value}),d='checkbox'==e.type,l='radio'==e.type;if(d||l){var p=t(),u=d&&on(p)instanceof Array,c=!(u&&p.push&&p.splice),m=u?s():void 0,g=l||u;mn(i,null,{disposeWhenNodeIsRemoved:e}),J(e,'click',i),mn(a,null,{disposeWhenNodeIsRemoved:e}),p=void 0}}},checkedValue:{update:function(e,n){e.value=on(n())}},click:Vi,css:Ri,class:Ri,enable:$i,event:Bi,disable:{update:function(e,n){$i.update(e,function(){return!on(n())})}},hasfocus:Mi,hasFocus:Mi,hidden:{update:function(e,n){ta.update.call(this,e,function(){return!on(n())})}},html:{init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){ke(e,n())},allowVirtualElements:!0},let:{init:function(e,n,t,o,i){var a=i.extend(n);return Yn(a,e),{controlsDescendantBindings:!0}},allowVirtualElements:!0},on:Pi,options:{init:function(e){if('select'!==V(e))throw new Error('options binding applies only to SELECT elements');for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,o){function i(){return s(e.options,function(e){return e.selected})}function d(e,n,t){var o=typeof n;return'function'==o?n(e):'string'==o?e[n]:t}function r(t,i){if(v&&h)Wi.writeValue(e,on(o.get('value')),!0);else if(y.length){var a=0<=n(y,Wi.readValue(i[0]));Z(i[0],a),v&&!a&&Ye(Y,null,[e,'change'])}}var l,p,u=0==e.length,c=e.multiple,m=!u&&c?e.scrollTop:null,g=on(t()),h=o.get('valueAllowUnset')&&o.has('value'),f=o.get('optionsIncludeDestroyed'),b={},y=[];h||(c?y=a(i(),Wi.readValue):0<=e.selectedIndex&&y.push(Wi.readValue(e.options[e.selectedIndex]))),g&&('undefined'==typeof g.length&&(g=[g]),p=s(g,function(e){return f||void 0===e||null===e||!on(e._destroy)}),o.has('optionsCaption')&&(l=on(o.get('optionsCaption')),null!==l&&void 0!==l&&p.unshift(Hi)));var v=!1;b.beforeRemove=function(n){e.removeChild(n)};var x=r;o.has('optionsAfterRender')&&'function'==typeof o.get('optionsAfterRender')&&(x=function(e,n){r(e,n),Ye(o.get('optionsAfterRender'),null,[n[0],e===Hi?void 0:e])}),nt(e,p,function(n,t,i){i.length&&(y=!h&&i[0].selected?[Wi.readValue(i[0])]:[],v=!0);var a=e.ownerDocument.createElement('option');if(n===Hi)Ce(a,o.get('optionsCaption')),Wi.writeValue(a,void 0);else{var s=d(n,o.get('optionsValue'),n);Wi.writeValue(a,on(s));var r=d(n,o.get('optionsText'),s);Ce(a,r)}return[a]},b,x),Ye(function(){if(h)Wi.writeValue(e,on(o.get('value')),!0);else{var n;n=c?y.length&&i().length<y.length:y.length&&0<=e.selectedIndex?Wi.readValue(e.options[e.selectedIndex])!==y[0]:y.length||0<=e.selectedIndex,n&&Y(e,'change')}}),ne(e),m&&20<Math.abs(m-e.scrollTop)&&(e.scrollTop=m)}},selectedOptions:{after:['options','foreach'],init:function(n,t){J(n,'change',function(){var o=t(),i=[];e(n.getElementsByTagName('option'),function(e){e.selected&&i.push(Wi.readValue(e))}),t(i)})},update:function(t,o){if('select'!=V(t))throw new Error('values binding applies only to SELECT elements');var i=on(o()),a=t.scrollTop;i&&'number'==typeof i.length&&e(t.getElementsByTagName('option'),function(e){var t=0<=n(i,Wi.readValue(e));e.selected!=t&&Z(e,t)}),t.scrollTop=a}},style:{update:function(e,n){var t=on(n()||{});v(t,function(n,t){t=on(t),(null===t||void 0===t||!1===t)&&(t=''),e.style[n]=t})}},submit:{init:function(e,n,t,o,i){if('function'!=typeof n())throw new Error('The value for a submit binding must be a function');J(e,'submit',function(t){var o,a=n();try{o=a.call(i.$data,e)}finally{!0!==o&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}})}},text:{init:function(){return{controlsDescendantBindings:!0}},update:function(e,n){Ce(e,n())},allowVirtualElements:!0},textInput:ea,textinput:ea,uniqueName:na,using:{init:function(e,n,t,o,i){var a=i.createChildContext(n);return Yn(a,e),{controlsDescendantBindings:!0}},allowVirtualElements:!0},value:{after:['options','foreach'],init:function(t,o,a){if('input'==t.tagName.toLowerCase()&&('checkbox'==t.type||'radio'==t.type))return void Jn(t,{checkedValue:o});var s=['change'],r=a.get('valueUpdate'),l=!1,p=null;r&&('string'==typeof r&&(r=[r]),d(s,r),s=i(s));var u=function(){p=null,l=!1;var e=o(),n=Wi.readValue(t);o(n)},c=Bt&&'input'==t.tagName.toLowerCase()&&'text'==t.type&&'off'!=t.autocomplete&&(!t.form||'off'!=t.form.autocomplete);c&&-1==n(s,'propertychange')&&(J(t,'propertychange',function(){l=!0}),J(t,'focus',function(){l=!1}),J(t,'blur',function(){l&&u()})),e(s,function(e){var n=u;_(e,'after')&&(n=function(){p=Wi.readValue(t),h(u,0)},e=e.substring(5)),J(t,e,n)});var m=function(){var e=on(o()),n=Wi.readValue(t);if(null!==p&&e===p)return void h(m,0);if(e!==n)if('select'===V(t)){var i=a.get('valueAllowUnset'),s=function(){Wi.writeValue(t,e,i)};s(),i||e===Wi.readValue(t)?h(s,0):Ye(Y,null,[t,'change'])}else Wi.writeValue(t,e)};mn(m,null,{disposeWhenNodeIsRemoved:t})}},visible:ta}),_a.bindingHandlers.set({foreach:ca,template:ua}),_a.bindingHandlers.set({if:class extends ma{},with:fa,ifnot:ga,unless:ga,else:ha,elseif:ha}),_a.bindingHandlers.set(xa),_a.bindingHandlers.set({each:xa.foreach}),_a.bindingHandlers.set({component:Da}),Object.assign(It.filters,Ca);var Ta={version:'4.0.0-alpha4',options:It,extenders:vo,filters:It.filters,Component:pi.ComponentABC,cleanNode:Q,memoization:uo,removeNode:q,tasks:w,utils:Sa,dependencyDetection:So,ignoreDependencies:Ye,isObservable:tn,isSubscribable:Qe,isWriteableObservable:sn,isWritableObservable:sn,observable:en,observableArray:rn,peek:an,subscribable:Ke,unwrap:on,toJS:ln,toJSON:function(e,n,t){var o=ln(e);return T(o,n,t)},computed:mn,isComputed:function(e){return D(e,mn)},isPureComputed:function(e){return D(e,mn)&&e[wo]&&e[wo].pure},pureComputed:fn,nativeTemplateEngine:ht,renderTemplate:mt,setTemplateEngine:dt,templateEngine:st,templateSources:{domElement:tt,anonymousTemplate:at},applyBindingAccessorsToNode:Jn,applyBindings:Xn,applyBindingsToDescendants:Yn,applyBindingsToNode:function(e,n,t){const o=new Set;var i=Gn(t);return Jn(e,Wn(n,i,e),i,o),It.Promise.all(o)},bindingHandlers:_a.bindingHandlers,bindingProvider:_a,contextFor:Vn,dataFor:function(e){var n=Vn(e);return n?n.$data:void 0},getBindingHandler:Ln,BindingHandler:Di,AsyncBindingHandler:Si,virtualElements:to,domNodeDisposal:Sa.domNodeDisposal,components:pi};return Ta});
//# sourceMappingURL=tko.min.js.map
